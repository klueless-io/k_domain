{
  "domain": {
    "models": [
      {
        "name": "__EFMigrationsHistory",
        "name_plural": "__EFMigrationsHistory",
        "table_name": "__EFMigrationsHistory",
        "pk": {
          "name": "MigrationId",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "ProductVersion",
            "name_plural": "ProductVersions",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": 32,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "sample",
        "name_plural": "samples",
        "table_name": "samples",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/sample.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "deleted",
            "name_plural": "deleteds",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "app_user_id",
            "name_plural": "app_user_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "app_user",
            "foreign_table_plural": "app_users"
          },
          {
            "name": "sales_user_id",
            "name_plural": "sales_user_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "longitude",
            "name_plural": "longitudes",
            "type": "float",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "latitude",
            "name_plural": "latitudes",
            "type": "float",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "name",
            "name_plural": "names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "address",
            "name_plural": "addresses",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "shop_id",
            "name_plural": "shop_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "shop",
            "foreign_table_plural": "shops"
          },
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "type",
            "name_plural": "types",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "app_user",
        "name_plural": "app_users",
        "table_name": "app_users",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/app_user.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_user",
            "foreign_table_plural": "asp_net_users"
          },
          {
            "name": "first_name",
            "name_plural": "first_names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "last_name",
            "name_plural": "last_names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "phone_number",
            "name_plural": "phone_numbers",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "asp_net_role_claim",
        "name_plural": "asp_net_role_claims",
        "table_name": "asp_net_role_claims",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "role_id",
            "name_plural": "role_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_role",
            "foreign_table_plural": "asp_net_roles"
          },
          {
            "name": "claim_type",
            "name_plural": "claim_types",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "claim_value",
            "name_plural": "claim_values",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "asp_net_role",
        "name_plural": "asp_net_roles",
        "table_name": "asp_net_roles",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "name",
            "name_plural": "names",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": 256,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "normalized_name",
            "name_plural": "normalized_names",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": 256,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "concurrency_stamp",
            "name_plural": "concurrency_stamps",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "asp_net_user_claim",
        "name_plural": "asp_net_user_claims",
        "table_name": "asp_net_user_claims",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_user",
            "foreign_table_plural": "asp_net_users"
          },
          {
            "name": "claim_type",
            "name_plural": "claim_types",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "claim_value",
            "name_plural": "claim_values",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "asp_net_user_login",
        "name_plural": "asp_net_user_logins",
        "table_name": "asp_net_user_logins",
        "pk": {
          "name": null,
          "type": null,
          "exist": false
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "login_provider",
            "name_plural": "login_providers",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": 128,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "provider_key",
            "name_plural": "provider_keys",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": 128,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "provider_display_name",
            "name_plural": "provider_display_names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_user",
            "foreign_table_plural": "asp_net_users"
          }
        ]
      },
      {
        "name": "asp_net_user_role",
        "name_plural": "asp_net_user_roles",
        "table_name": "asp_net_user_roles",
        "pk": {
          "name": null,
          "type": null,
          "exist": false
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_user",
            "foreign_table_plural": "asp_net_users"
          },
          {
            "name": "role_id",
            "name_plural": "role_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_role",
            "foreign_table_plural": "asp_net_roles"
          }
        ]
      },
      {
        "name": "asp_net_user_token",
        "name_plural": "asp_net_user_tokens",
        "table_name": "asp_net_user_tokens",
        "pk": {
          "name": null,
          "type": null,
          "exist": false
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "asp_net_user",
            "foreign_table_plural": "asp_net_users"
          },
          {
            "name": "login_provider",
            "name_plural": "login_providers",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": 128,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "name",
            "name_plural": "names",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": 128,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "value",
            "name_plural": "values",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "asp_net_user",
        "name_plural": "asp_net_users",
        "table_name": "asp_net_users",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "",
          "exist": false,
          "state": [

          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "user_name",
            "name_plural": "user_names",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": 256,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "normalized_user_name",
            "name_plural": "normalized_user_names",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": 256,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "email",
            "name_plural": "emails",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": 256,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "normalized_email",
            "name_plural": "normalized_emails",
            "type": "string",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": 256,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "email_confirmed",
            "name_plural": "email_confirmeds",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "password_hash",
            "name_plural": "password_hashes",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "security_stamp",
            "name_plural": "security_stamps",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "concurrency_stamp",
            "name_plural": "concurrency_stamps",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "phone_number",
            "name_plural": "phone_numbers",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "phone_number_confirmed",
            "name_plural": "phone_number_confirmeds",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "two_factor_enabled",
            "name_plural": "two_factor_enableds",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "lockout_end",
            "name_plural": "lockout_ends",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "lockout_enabled",
            "name_plural": "lockout_enableds",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "access_failed_count",
            "name_plural": "access_failed_counts",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "customer_shop",
        "name_plural": "customer_shops",
        "table_name": "customer_shops",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/customer_shop.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "status",
            "name_plural": "statuses",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "customer_id",
            "name_plural": "customer_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "app_user",
            "foreign_table_plural": "app_users"
          },
          {
            "name": "shop_id",
            "name_plural": "shop_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "shop",
            "foreign_table_plural": "shops"
          }
        ]
      },
      {
        "name": "favourite_order",
        "name_plural": "favourite_orders",
        "table_name": "favourite_orders",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/favourite_order.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "customer_id",
            "name_plural": "customer_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "app_user",
            "foreign_table_plural": "app_users"
          },
          {
            "name": "order_id",
            "name_plural": "order_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "order",
            "foreign_table_plural": "orders"
          }
        ]
      },
      {
        "name": "item_variation",
        "name_plural": "item_variations",
        "table_name": "item_variations",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/item_variation.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "item_id",
            "name_plural": "item_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "item",
            "foreign_table_plural": "items"
          },
          {
            "name": "name",
            "name_plural": "names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "default",
            "name_plural": "defaults",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "qty",
            "name_plural": "qties",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "qty_variation",
            "name_plural": "qty_variations",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "item",
        "name_plural": "items",
        "table_name": "items",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/item.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "title",
            "name_plural": "titles",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "group",
            "name_plural": "groups",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "menu_category",
        "name_plural": "menu_categories",
        "table_name": "menu_categories",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/menu_category.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "shop_id",
            "name_plural": "shop_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "shop",
            "foreign_table_plural": "shops"
          },
          {
            "name": "name",
            "name_plural": "names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "position",
            "name_plural": "positions",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "menu_category_product",
        "name_plural": "menu_category_products",
        "table_name": "menu_category_products",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/menu_category_product.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "menu_category_id",
            "name_plural": "menu_category_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "menu_category",
            "foreign_table_plural": "menu_categories"
          },
          {
            "name": "product_id",
            "name_plural": "product_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "product",
            "foreign_table_plural": "products"
          },
          {
            "name": "position",
            "name_plural": "positions",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "order",
        "name_plural": "orders",
        "table_name": "orders",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/order.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "customer_id",
            "name_plural": "customer_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "app_user",
            "foreign_table_plural": "app_users"
          },
          {
            "name": "shop_id",
            "name_plural": "shop_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "shop",
            "foreign_table_plural": "shops"
          },
          {
            "name": "order_details",
            "name_plural": "order_details",
            "type": "jsonb",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "placed_at",
            "name_plural": "placed_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "in_queue_at",
            "name_plural": "in_queue_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "making_at",
            "name_plural": "making_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "made_at",
            "name_plural": "made_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "cancelled_at",
            "name_plural": "cancelled_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "collected_at",
            "name_plural": "collected_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "fail_at",
            "name_plural": "fail_ats",
            "type": "datetime",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "fail_reason",
            "name_plural": "fail_reasons",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "product_variation",
        "name_plural": "product_variations",
        "table_name": "product_variations",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/product_variation.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "product_id",
            "name_plural": "product_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "product",
            "foreign_table_plural": "products"
          },
          {
            "name": "item_variation_id",
            "name_plural": "item_variation_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "item_variation",
            "foreign_table_plural": "item_variations"
          },
          {
            "name": "active",
            "name_plural": "actives",
            "type": "boolean",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "title",
            "name_plural": "titles",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "price_offset",
            "name_plural": "price_offsets",
            "type": "float",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "product",
        "name_plural": "products",
        "table_name": "products",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/product.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "shop_id",
            "name_plural": "shop_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "shop",
            "foreign_table_plural": "shops"
          },
          {
            "name": "title",
            "name_plural": "titles",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "price",
            "name_plural": "prices",
            "type": "float",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "shop",
        "name_plural": "shops",
        "table_name": "shops",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/shop.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "app_user_id",
            "name_plural": "app_user_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "app_user",
            "foreign_table_plural": "app_users"
          },
          {
            "name": "name",
            "name_plural": "names",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "address",
            "name_plural": "addresses",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "longitude",
            "name_plural": "longitudes",
            "type": "float",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "latitude",
            "name_plural": "latitudes",
            "type": "float",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      },
      {
        "name": "staff",
        "name_plural": "staffs",
        "table_name": "staffs",
        "pk": {
          "name": "id",
          "type": "bigint",
          "exist": true
        },
        "erd_location": {
          "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/staff.rb",
          "exist": true,
          "state": [
            "has_ruby_model"
          ]
        },
        "statistics": {
        },
        "columns": [
          {
            "name": "id",
            "name_plural": "ids",
            "type": "bigint",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "primary_key",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          },
          {
            "name": "shop_id",
            "name_plural": "shop_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "shop",
            "foreign_table_plural": "shops"
          },
          {
            "name": "user_id",
            "name_plural": "user_ids",
            "type": "integer",
            "precision": null,
            "scale": null,
            "default": null,
            "null": false,
            "limit": null,
            "array": null,
            "structure_type": "foreign_key",
            "foreign_key": true,
            "foreign_table": "app_user",
            "foreign_table_plural": "app_users"
          },
          {
            "name": "type",
            "name_plural": "types",
            "type": "text",
            "precision": null,
            "scale": null,
            "default": null,
            "null": null,
            "limit": null,
            "array": null,
            "structure_type": "data",
            "foreign_key": false,
            "foreign_table": "",
            "foreign_table_plural": ""
          }
        ]
      }
    ]
  },
  "rails_resource": {
    "models": [
      {
        "model_name": "__EFMigrationsHistory",
        "table_name": "__EFMigrationsHistory",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "sample",
        "table_name": "samples",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/sample.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "app_user",
        "table_name": "app_users",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/app_user.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "asp_net_role_claim",
        "table_name": "asp_net_role_claims",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "asp_net_role",
        "table_name": "asp_net_roles",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "asp_net_user_claim",
        "table_name": "asp_net_user_claims",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "asp_net_user_login",
        "table_name": "asp_net_user_logins",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "asp_net_user_role",
        "table_name": "asp_net_user_roles",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "asp_net_user_token",
        "table_name": "asp_net_user_tokens",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "asp_net_user",
        "table_name": "asp_net_users",
        "file": "",
        "exist": false,
        "state": "model_not_found"
      },
      {
        "model_name": "customer_shop",
        "table_name": "customer_shops",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/customer_shop.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "favourite_order",
        "table_name": "favourite_orders",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/favourite_order.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "item_variation",
        "table_name": "item_variations",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/item_variation.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "item",
        "table_name": "items",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/item.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "menu_category",
        "table_name": "menu_categories",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/menu_category.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "menu_category_product",
        "table_name": "menu_category_products",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/menu_category_product.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "order",
        "table_name": "orders",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/order.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "product_variation",
        "table_name": "product_variations",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/product_variation.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "product",
        "table_name": "products",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/product.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "shop",
        "table_name": "shops",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/shop.rb",
        "exist": true,
        "state": "has_ruby_model"
      },
      {
        "model_name": "staff",
        "table_name": "staffs",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/staff.rb",
        "exist": true,
        "state": "has_ruby_model"
      }
    ],
    "controllers": [

    ]
  },
  "rails_structure": {
    "models": [
      {
        "model_name": "__EFMigrationsHistory",
        "table_name": "__EFMigrationsHistory",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "sample",
        "table_name": "samples",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/sample.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\nclass Sample < ActiveRecord::Base\n  extend RailsUpgrade\n\n  attr_accessor :access1\n  attr_accessor :access2\n\n  attr_reader :reader3\n  attr_writer :write4, :write5, :write6\n\n  default_scope { where(deleted: false) }\n\n  scope :has_geo, -> { where.not(longitude: nil, latitude: nil) }\n\n  scope :has_address, lambda {\n    where.not(address: nil)\n  }\n\n  belongs_to :app_user\n\n  belongs_to :tenant, **belongs_to_required\n\n  belongs_to :user, class_name: 'User', foreign_key: 'id', primary_key: 'sales_user_id'\n\n  has_one :user, class_name: 'User', foreign_key: 'id', primary_key: 'sales_user_id'\n\n  has_many :user, class_name: 'User', foreign_key: 'id', primary_key: 'sales_user_id'\n\n  has_many :tasks, as: :taskable\n\n  has_many :messages, class_name: 'CampaignMessage', dependent: :destroy\n  has_many :trackers, through: :messages\n  has_many :hits, through: :trackers\n  has_many :orders, inverse_of: :company\n\n  has_and_belongs_to_many :trackers, -> { uniq }\n  has_and_belongs_to_many :contact_lists, -> { uniq }, autosave: true\n\n  validate :ensure_valid_financial_year, on: :create\n  validate :name_must_be_unique, :name_must_not_be_in_global\n  validate :check_email_valid\n\n  validates :user, presence: { message: 'must exist' }\n  validates :tenant, presence: { message: 'must exist' } if rails4?\n  validates :first_name, presence: { message: 'First Name is required.' }, on: :create\n  validates :email, format: /\\A[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}\\z/i\n  validates :password, length: { minimum: 8, message: '8+ characters' }, unless: :skip_password_validation\n\n  # class methods\n  def self.class_method1\n  end\n\n  def self.class_method2(was, here)\n  end\n\n  def self.class_method3(key: 1, another_key: nil)\n  end\n\n  # public methods\n  def public_method1\n  end\n\n  def public_method2(was, here)\n  end\n\n  def public_method3(key: 1, another_key: nil)\n  end\n\n  private\n\n  # private methods\n  def some_private_method\n  end\n\n  def some_method(was, here)\n  end\n\n  def some_other_method(key: 1, another_key: nil)\n  end\nend\n\n# shops\n#\n# id                                       bigint\n# app_user_id                              integer\n# name                                     text\n# address                                  text\n# longitude                                float\n# latitude                                 float\n",
        "behaviours": {
          "class_name": "Sample",
          "attr_accessor": [
            "access1",
            "access2"
          ],
          "attr_reader": [
            "reader3"
          ],
          "attr_writer": [
            "write4",
            "write5",
            "write6"
          ],
          "default_scope": {
            "block": "{ where(deleted: false) }"
          },
          "scopes": [
            {
              "name": "has_geo",
              "opts": {
              },
              "block": "-> { where.not(longitude: nil, latitude: nil) }"
            },
            {
              "name": "has_address",
              "opts": {
              },
              "block": "lambda {\n    where.not(address: nil)\n  }"
            }
          ],
          "belongs_to": [
            {
              "name": "app_user",
              "opts": {
              },
              "block": null
            },
            {
              "name": "tenant",
              "opts": {
              },
              "block": null
            },
            {
              "name": "user",
              "opts": {
                "class_name": "User",
                "foreign_key": "id",
                "primary_key": "sales_user_id"
              },
              "block": null
            }
          ],
          "has_one": [
            {
              "name": "user",
              "opts": {
                "class_name": "User",
                "foreign_key": "id",
                "primary_key": "sales_user_id"
              },
              "block": null
            }
          ],
          "has_many": [
            {
              "name": "user",
              "opts": {
                "class_name": "User",
                "foreign_key": "id",
                "primary_key": "sales_user_id"
              },
              "block": null
            },
            {
              "name": "tasks",
              "opts": {
                "as": "taskable"
              },
              "block": null
            },
            {
              "name": "messages",
              "opts": {
                "class_name": "CampaignMessage",
                "dependent": "destroy"
              },
              "block": null
            },
            {
              "name": "trackers",
              "opts": {
                "through": "messages"
              },
              "block": null
            },
            {
              "name": "hits",
              "opts": {
                "through": "trackers"
              },
              "block": null
            },
            {
              "name": "orders",
              "opts": {
                "inverse_of": "company"
              },
              "block": null
            }
          ],
          "has_and_belongs_to_many": [
            {
              "name": "trackers",
              "opts": {
              },
              "block": "-> { uniq }"
            },
            {
              "name": "contact_lists",
              "opts": {
                "autosave": true
              },
              "block": "-> { uniq }, autosave: true"
            }
          ],
          "validate": [
            {
              "names": [
                "ensure_valid_financial_year"
              ],
              "opts": {
                "on": "create"
              },
              "block": null
            },
            {
              "names": [
                "name_must_be_unique",
                "name_must_not_be_in_global"
              ],
              "opts": {
              },
              "block": null
            },
            {
              "names": [
                "check_email_valid"
              ],
              "opts": {
              },
              "block": null
            }
          ],
          "validates": [
            {
              "name": "user",
              "opts": {
                "presence": {
                  "message": "must exist"
                }
              }
            },
            {
              "name": "tenant",
              "opts": {
                "presence": {
                  "message": "must exist"
                }
              }
            },
            {
              "name": "first_name",
              "opts": {
                "presence": {
                  "message": "First Name is required."
                },
                "on": "create"
              }
            },
            {
              "name": "email",
              "opts": {
                "format": "(?i-mx:\\A[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}\\z)"
              }
            },
            {
              "name": "password",
              "opts": {
                "length": {
                  "minimum": 8,
                  "message": "8+ characters"
                },
                "unless": "skip_password_validation"
              }
            }
          ]
        },
        "functions": {
          "class_name": "Sample",
          "module_name": "",
          "class_full_name": "Sample",
          "attr_accessor": [
            "access1",
            "access2"
          ],
          "attr_reader": [
            "reader3"
          ],
          "attr_writer": [
            "write4",
            "write5",
            "write6"
          ],
          "klass": [
            {
              "name": "class_method1",
              "paramaters": [

              ]
            },
            {
              "name": "class_method2",
              "paramaters": [
                {
                  "name": "was",
                  "type": "param_required",
                  "default_value": null
                },
                {
                  "name": "here",
                  "type": "param_required",
                  "default_value": null
                }
              ]
            },
            {
              "name": "class_method3",
              "paramaters": [
                {
                  "name": "key",
                  "type": "key_optional",
                  "default_value": null
                },
                {
                  "name": "another_key",
                  "type": "key_optional",
                  "default_value": null
                }
              ]
            }
          ],
          "instance_public": [
            {
              "name": "public_method1",
              "paramaters": [

              ]
            },
            {
              "name": "public_method2",
              "paramaters": [
                {
                  "name": "was",
                  "type": "param_required",
                  "default_value": null
                },
                {
                  "name": "here",
                  "type": "param_required",
                  "default_value": null
                }
              ]
            },
            {
              "name": "public_method3",
              "paramaters": [
                {
                  "name": "key",
                  "type": "key_optional",
                  "default_value": 1
                },
                {
                  "name": "another_key",
                  "type": "key_optional",
                  "default_value": null
                }
              ]
            }
          ],
          "instance_private": [
            {
              "name": "some_method",
              "paramaters": [
                {
                  "name": "was",
                  "type": "param_required",
                  "default_value": null
                },
                {
                  "name": "here",
                  "type": "param_required",
                  "default_value": null
                }
              ]
            },
            {
              "name": "some_other_method",
              "paramaters": [
                {
                  "name": "key",
                  "type": "key_optional",
                  "default_value": 1
                },
                {
                  "name": "another_key",
                  "type": "key_optional",
                  "default_value": null
                }
              ]
            },
            {
              "name": "some_private_method",
              "paramaters": [

              ]
            }
          ]
        }
      },
      {
        "model_name": "app_user",
        "table_name": "app_users",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/app_user.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass AppUser < ActiveRecord::Base\n  belongs_to :asp_net_user\nend\n\n# app_users\n#\n# id                                       bigint\n# user_id                                  text\n# first_name                               text\n# last_name                                text\n# phone_number                             text\n",
        "behaviours": {
          "class_name": "AppUser",
          "belongs_to": [
            {
              "name": "asp_net_user",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "AppUser",
          "module_name": "",
          "class_full_name": "AppUser",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "asp_net_role_claim",
        "table_name": "asp_net_role_claims",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "asp_net_role",
        "table_name": "asp_net_roles",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "asp_net_user_claim",
        "table_name": "asp_net_user_claims",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "asp_net_user_login",
        "table_name": "asp_net_user_logins",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "asp_net_user_role",
        "table_name": "asp_net_user_roles",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "asp_net_user_token",
        "table_name": "asp_net_user_tokens",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "asp_net_user",
        "table_name": "asp_net_users",
        "file": "",
        "exist": false,
        "state": "model_not_found",
        "code": "",
        "behaviours": {
        },
        "functions": {
        }
      },
      {
        "model_name": "customer_shop",
        "table_name": "customer_shops",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/customer_shop.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass CustomerShop < ActiveRecord::Base\n  belongs_to :app_user\n  belongs_to :shop\nend\n\n# customer_shops\n#\n# id                                       bigint\n# status                                   integer\n# customer_id                              integer\n# shop_id                                  integer\n",
        "behaviours": {
          "class_name": "CustomerShop",
          "belongs_to": [
            {
              "name": "app_user",
              "opts": {
              },
              "block": null
            },
            {
              "name": "shop",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "CustomerShop",
          "module_name": "",
          "class_full_name": "CustomerShop",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "favourite_order",
        "table_name": "favourite_orders",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/favourite_order.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass FavouriteOrder < ActiveRecord::Base\n  belongs_to :app_user\n  belongs_to :order\nend\n\n# favourite_orders\n#\n# id                                       bigint\n# customer_id                              integer\n# order_id                                 integer\n",
        "behaviours": {
          "class_name": "FavouriteOrder",
          "belongs_to": [
            {
              "name": "app_user",
              "opts": {
              },
              "block": null
            },
            {
              "name": "order",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "FavouriteOrder",
          "module_name": "",
          "class_full_name": "FavouriteOrder",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "item_variation",
        "table_name": "item_variations",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/item_variation.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass ItemVariation < ActiveRecord::Base\n  belongs_to :item\nend\n\n# item_variations\n#\n# id                                       bigint\n# item_id                                  integer\n# name                                     text\n# default                                  boolean\n# qty                                      integer\n# qty_variation                            text\n",
        "behaviours": {
          "class_name": "ItemVariation",
          "belongs_to": [
            {
              "name": "item",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "ItemVariation",
          "module_name": "",
          "class_full_name": "ItemVariation",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "item",
        "table_name": "items",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/item.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass Item < ActiveRecord::Base\nend\n\n# items\n#\n# id                                       bigint\n# title                                    text\n# group                                    text\n",
        "behaviours": null,
        "functions": {
          "class_name": "Item",
          "module_name": "",
          "class_full_name": "Item",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "menu_category",
        "table_name": "menu_categories",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/menu_category.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass MenuCategory < ActiveRecord::Base\n  belongs_to :shop\nend\n\n# menu_categories\n#\n# id                                       bigint\n# shop_id                                  integer\n# name                                     text\n# position                                 integer\n",
        "behaviours": {
          "class_name": "MenuCategory",
          "belongs_to": [
            {
              "name": "shop",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "MenuCategory",
          "module_name": "",
          "class_full_name": "MenuCategory",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "menu_category_product",
        "table_name": "menu_category_products",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/menu_category_product.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass MenuCategoryProduct < ActiveRecord::Base\n  belongs_to :menu_category\n  belongs_to :product\nend\n\n# menu_category_products\n#\n# id                                       bigint\n# menu_category_id                         integer\n# product_id                               integer\n# position                                 integer\n",
        "behaviours": {
          "class_name": "MenuCategoryProduct",
          "belongs_to": [
            {
              "name": "menu_category",
              "opts": {
              },
              "block": null
            },
            {
              "name": "product",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "MenuCategoryProduct",
          "module_name": "",
          "class_full_name": "MenuCategoryProduct",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "order",
        "table_name": "orders",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/order.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass Order < ActiveRecord::Base\n  belongs_to :app_user\n  belongs_to :shop\nend\n\n# orders\n#\n# id                                       bigint\n# customer_id                              integer\n# shop_id                                  integer\n# order_details                            jsonb\n# placed_at                                datetime\n# in_queue_at                              datetime\n# making_at                                datetime\n# made_at                                  datetime\n# cancelled_at                             datetime\n# collected_at                             datetime\n# fail_at                                  datetime\n# fail_reason                              text\n",
        "behaviours": {
          "class_name": "Order",
          "belongs_to": [
            {
              "name": "app_user",
              "opts": {
              },
              "block": null
            },
            {
              "name": "shop",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "Order",
          "module_name": "",
          "class_full_name": "Order",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "product_variation",
        "table_name": "product_variations",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/product_variation.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass ProductVariation < ActiveRecord::Base\n  belongs_to :product\n  belongs_to :item_variation\nend\n\n# product_variations\n#\n# id                                       bigint\n# product_id                               integer\n# item_variation_id                        integer\n# active                                   boolean\n# title                                    text\n# price_offset                             float\n",
        "behaviours": {
          "class_name": "ProductVariation",
          "belongs_to": [
            {
              "name": "product",
              "opts": {
              },
              "block": null
            },
            {
              "name": "item_variation",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "ProductVariation",
          "module_name": "",
          "class_full_name": "ProductVariation",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "product",
        "table_name": "products",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/product.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass Product < ActiveRecord::Base\n  belongs_to :shop\nend\n\n# products\n#\n# id                                       bigint\n# shop_id                                  integer\n# title                                    text\n# price                                    float\n",
        "behaviours": {
          "class_name": "Product",
          "belongs_to": [
            {
              "name": "shop",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "Product",
          "module_name": "",
          "class_full_name": "Product",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "shop",
        "table_name": "shops",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/shop.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass Shop < ActiveRecord::Base\n  belongs_to :app_user\nend\n\n# shops\n#\n# id                                       bigint\n# app_user_id                              integer\n# name                                     text\n# address                                  text\n# longitude                                float\n# latitude                                 float\n",
        "behaviours": {
          "class_name": "Shop",
          "belongs_to": [
            {
              "name": "app_user",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "Shop",
          "module_name": "",
          "class_full_name": "Shop",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      },
      {
        "model_name": "staff",
        "table_name": "staffs",
        "file": "/Users/davidcruwys/dev/kgems/k_domain/spec/example_domain/simple/input/models/staff.rb",
        "exist": true,
        "state": "has_ruby_model",
        "code": "# frozen_string_literal: true\n\nclass Staff < ActiveRecord::Base\n  belongs_to :shop\n  belongs_to :app_user\nend\n\n# staffs\n#\n# id                                       bigint\n# shop_id                                  integer\n# user_id                                  integer\n# type                                     text\n",
        "behaviours": {
          "class_name": "Staff",
          "belongs_to": [
            {
              "name": "shop",
              "opts": {
              },
              "block": null
            },
            {
              "name": "app_user",
              "opts": {
              },
              "block": null
            }
          ]
        },
        "functions": {
          "class_name": "Staff",
          "module_name": "",
          "class_full_name": "Staff",
          "attr_accessor": [

          ],
          "attr_reader": [

          ],
          "attr_writer": [

          ],
          "klass": [

          ],
          "instance_public": [

          ],
          "instance_private": [

          ]
        }
      }
    ],
    "controllers": [

    ]
  },
  "dictionary": {
    "items": [
      {
        "name": "id",
        "type": "bigint",
        "label": "Id",
        "segment": "data",
        "models": [
          "__EFMigrationsHistory",
          "sample",
          "app_user",
          "asp_net_role_claim",
          "asp_net_role",
          "asp_net_user_claim",
          "asp_net_user",
          "customer_shop",
          "favourite_order",
          "item_variation",
          "item",
          "menu_category",
          "menu_category_product",
          "order",
          "product_variation",
          "product",
          "shop",
          "staff"
        ],
        "model_count": 18,
        "types": [
          "bigint"
        ],
        "type_count": 1
      },
      {
        "name": "ProductVersion",
        "type": "string",
        "label": "Product Version",
        "segment": "data",
        "models": [
          "__EFMigrationsHistory"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "deleted",
        "type": "boolean",
        "label": "Deleted",
        "segment": "data",
        "models": [
          "sample"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "app_user_id",
        "type": "integer",
        "label": "App User",
        "segment": "id",
        "models": [
          "sample",
          "shop"
        ],
        "model_count": 2,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "sales_user_id",
        "type": "integer",
        "label": "Sales User",
        "segment": "id",
        "models": [
          "sample"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "longitude",
        "type": "float",
        "label": "Longitude",
        "segment": "data",
        "models": [
          "sample",
          "shop"
        ],
        "model_count": 2,
        "types": [
          "float"
        ],
        "type_count": 1
      },
      {
        "name": "latitude",
        "type": "float",
        "label": "Latitude",
        "segment": "data",
        "models": [
          "sample",
          "shop"
        ],
        "model_count": 2,
        "types": [
          "float"
        ],
        "type_count": 1
      },
      {
        "name": "name",
        "type": "text",
        "label": "Name",
        "segment": "data",
        "models": [
          "sample",
          "asp_net_role",
          "asp_net_user_token",
          "item_variation",
          "menu_category",
          "shop"
        ],
        "model_count": 6,
        "types": [
          "text",
          "string"
        ],
        "type_count": 2
      },
      {
        "name": "address",
        "type": "text",
        "label": "Address",
        "segment": "data",
        "models": [
          "sample",
          "shop"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "shop_id",
        "type": "integer",
        "label": "Shop",
        "segment": "id",
        "models": [
          "sample",
          "customer_shop",
          "menu_category",
          "order",
          "product",
          "staff"
        ],
        "model_count": 6,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "user_id",
        "type": "integer",
        "label": "User",
        "segment": "id",
        "models": [
          "sample",
          "app_user",
          "asp_net_user_claim",
          "asp_net_user_login",
          "asp_net_user_role",
          "asp_net_user_token",
          "staff"
        ],
        "model_count": 7,
        "types": [
          "integer",
          "text"
        ],
        "type_count": 2
      },
      {
        "name": "type",
        "type": "text",
        "label": "Type",
        "segment": "data",
        "models": [
          "sample",
          "staff"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "first_name",
        "type": "text",
        "label": "First Name",
        "segment": "data",
        "models": [
          "app_user"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "last_name",
        "type": "text",
        "label": "Last Name",
        "segment": "data",
        "models": [
          "app_user"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "phone_number",
        "type": "text",
        "label": "Phone Number",
        "segment": "data",
        "models": [
          "app_user",
          "asp_net_user"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "role_id",
        "type": "text",
        "label": "Role",
        "segment": "id_variant",
        "models": [
          "asp_net_role_claim",
          "asp_net_user_role"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "claim_type",
        "type": "text",
        "label": "Claim Type",
        "segment": "data",
        "models": [
          "asp_net_role_claim",
          "asp_net_user_claim"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "claim_value",
        "type": "text",
        "label": "Claim Value",
        "segment": "data",
        "models": [
          "asp_net_role_claim",
          "asp_net_user_claim"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "normalized_name",
        "type": "string",
        "label": "Normalized Name",
        "segment": "data",
        "models": [
          "asp_net_role"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "concurrency_stamp",
        "type": "text",
        "label": "Concurrency Stamp",
        "segment": "data",
        "models": [
          "asp_net_role",
          "asp_net_user"
        ],
        "model_count": 2,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "login_provider",
        "type": "string",
        "label": "Login Provider",
        "segment": "data",
        "models": [
          "asp_net_user_login",
          "asp_net_user_token"
        ],
        "model_count": 2,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "provider_key",
        "type": "string",
        "label": "Provider Key",
        "segment": "data",
        "models": [
          "asp_net_user_login"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "provider_display_name",
        "type": "text",
        "label": "Provider Display Name",
        "segment": "data",
        "models": [
          "asp_net_user_login"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "value",
        "type": "text",
        "label": "Value",
        "segment": "data",
        "models": [
          "asp_net_user_token"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "user_name",
        "type": "string",
        "label": "User Name",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "normalized_user_name",
        "type": "string",
        "label": "Normalized User Name",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "email",
        "type": "string",
        "label": "Email",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "normalized_email",
        "type": "string",
        "label": "Normalized Email",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "string"
        ],
        "type_count": 1
      },
      {
        "name": "email_confirmed",
        "type": "boolean",
        "label": "Email Confirmed",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "password_hash",
        "type": "text",
        "label": "Password Hash",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "security_stamp",
        "type": "text",
        "label": "Security Stamp",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "phone_number_confirmed",
        "type": "boolean",
        "label": "Phone Number Confirmed",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "two_factor_enabled",
        "type": "boolean",
        "label": "Two Factor Enabled",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "lockout_end",
        "type": "datetime",
        "label": "Lockout End",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "lockout_enabled",
        "type": "boolean",
        "label": "Lockout Enabled",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "access_failed_count",
        "type": "integer",
        "label": "Access Failed Count",
        "segment": "data",
        "models": [
          "asp_net_user"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "status",
        "type": "integer",
        "label": "Status",
        "segment": "data",
        "models": [
          "customer_shop"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "customer_id",
        "type": "integer",
        "label": "Customer",
        "segment": "id",
        "models": [
          "customer_shop",
          "favourite_order",
          "order"
        ],
        "model_count": 3,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "order_id",
        "type": "integer",
        "label": "Order",
        "segment": "id",
        "models": [
          "favourite_order"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "item_id",
        "type": "integer",
        "label": "Item",
        "segment": "id",
        "models": [
          "item_variation"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "default",
        "type": "boolean",
        "label": "Default",
        "segment": "data",
        "models": [
          "item_variation"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "qty",
        "type": "integer",
        "label": "Qty",
        "segment": "data",
        "models": [
          "item_variation"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "qty_variation",
        "type": "text",
        "label": "Qty Variation",
        "segment": "data",
        "models": [
          "item_variation"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "title",
        "type": "text",
        "label": "Title",
        "segment": "data",
        "models": [
          "item",
          "product_variation",
          "product"
        ],
        "model_count": 3,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "group",
        "type": "text",
        "label": "Group",
        "segment": "data",
        "models": [
          "item"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "position",
        "type": "integer",
        "label": "Position",
        "segment": "data",
        "models": [
          "menu_category",
          "menu_category_product"
        ],
        "model_count": 2,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "menu_category_id",
        "type": "integer",
        "label": "Menu Category",
        "segment": "id",
        "models": [
          "menu_category_product"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "product_id",
        "type": "integer",
        "label": "Product",
        "segment": "id",
        "models": [
          "menu_category_product",
          "product_variation"
        ],
        "model_count": 2,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "order_details",
        "type": "jsonb",
        "label": "Order Details",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "jsonb"
        ],
        "type_count": 1
      },
      {
        "name": "placed_at",
        "type": "datetime",
        "label": "Placed At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "in_queue_at",
        "type": "datetime",
        "label": "In Queue At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "making_at",
        "type": "datetime",
        "label": "Making At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "made_at",
        "type": "datetime",
        "label": "Made At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "cancelled_at",
        "type": "datetime",
        "label": "Cancelled At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "collected_at",
        "type": "datetime",
        "label": "Collected At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "fail_at",
        "type": "datetime",
        "label": "Fail At",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "datetime"
        ],
        "type_count": 1
      },
      {
        "name": "fail_reason",
        "type": "text",
        "label": "Fail Reason",
        "segment": "data",
        "models": [
          "order"
        ],
        "model_count": 1,
        "types": [
          "text"
        ],
        "type_count": 1
      },
      {
        "name": "item_variation_id",
        "type": "integer",
        "label": "Item Variation",
        "segment": "id",
        "models": [
          "product_variation"
        ],
        "model_count": 1,
        "types": [
          "integer"
        ],
        "type_count": 1
      },
      {
        "name": "active",
        "type": "boolean",
        "label": "Active",
        "segment": "data",
        "models": [
          "product_variation"
        ],
        "model_count": 1,
        "types": [
          "boolean"
        ],
        "type_count": 1
      },
      {
        "name": "price_offset",
        "type": "float",
        "label": "Price Offset",
        "segment": "data",
        "models": [
          "product_variation"
        ],
        "model_count": 1,
        "types": [
          "float"
        ],
        "type_count": 1
      },
      {
        "name": "price",
        "type": "float",
        "label": "Price",
        "segment": "data",
        "models": [
          "product"
        ],
        "model_count": 1,
        "types": [
          "float"
        ],
        "type_count": 1
      }
    ]
  },
  "database": {
    "tables": [
      {
        "name": "__EFMigrationsHistory",
        "primary_key": "MigrationId",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "ProductVersion",
            "type": "string",
            "limit": 32,
            "null": false
          }
        ],
        "indexes": [

        ],
        "rails_schema": {
          "primary_key": "MigrationId",
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "samples",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "deleted",
            "type": "boolean",
            "null": false
          },
          {
            "name": "app_user_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "sales_user_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "longitude",
            "type": "float",
            "null": false
          },
          {
            "name": "latitude",
            "type": "float",
            "null": false
          },
          {
            "name": "name",
            "type": "text"
          },
          {
            "name": "address",
            "type": "text"
          },
          {
            "name": "shop_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "user_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "type",
            "type": "text"
          }
        ],
        "indexes": [

        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "app_users",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "user_id",
            "type": "text"
          },
          {
            "name": "first_name",
            "type": "text"
          },
          {
            "name": "last_name",
            "type": "text"
          },
          {
            "name": "phone_number",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "IX_app_users_user_id",
            "fields": [
              "user_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_role_claims",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "role_id",
            "type": "text",
            "null": false
          },
          {
            "name": "claim_type",
            "type": "text"
          },
          {
            "name": "claim_value",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "IX_asp_net_role_claims_role_id",
            "fields": [
              "role_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_roles",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "name",
            "type": "string",
            "limit": 256
          },
          {
            "name": "normalized_name",
            "type": "string",
            "limit": 256
          },
          {
            "name": "concurrency_stamp",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "RoleNameIndex",
            "fields": [
              "normalized_name"
            ],
            "unique": true,
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_user_claims",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "user_id",
            "type": "text",
            "null": false
          },
          {
            "name": "claim_type",
            "type": "text"
          },
          {
            "name": "claim_value",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "IX_asp_net_user_claims_user_id",
            "fields": [
              "user_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_user_logins",
        "primary_key": null,
        "primary_key_type": null,
        "columns": [
          {
            "name": "login_provider",
            "type": "string",
            "limit": 128,
            "null": false
          },
          {
            "name": "provider_key",
            "type": "string",
            "limit": 128,
            "null": false
          },
          {
            "name": "provider_display_name",
            "type": "text"
          },
          {
            "name": "user_id",
            "type": "text",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_asp_net_user_logins_user_id",
            "fields": [
              "user_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": false,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_user_roles",
        "primary_key": null,
        "primary_key_type": null,
        "columns": [
          {
            "name": "user_id",
            "type": "text",
            "null": false
          },
          {
            "name": "role_id",
            "type": "text",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_asp_net_user_roles_role_id",
            "fields": [
              "role_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": false,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_user_tokens",
        "primary_key": null,
        "primary_key_type": null,
        "columns": [
          {
            "name": "user_id",
            "type": "text",
            "null": false
          },
          {
            "name": "login_provider",
            "type": "string",
            "limit": 128,
            "null": false
          },
          {
            "name": "name",
            "type": "string",
            "limit": 128,
            "null": false
          },
          {
            "name": "value",
            "type": "text"
          }
        ],
        "indexes": [

        ],
        "rails_schema": {
          "primary_key": null,
          "id": false,
          "force": "cascade"
        }
      },
      {
        "name": "asp_net_users",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "user_name",
            "type": "string",
            "limit": 256
          },
          {
            "name": "normalized_user_name",
            "type": "string",
            "limit": 256
          },
          {
            "name": "email",
            "type": "string",
            "limit": 256
          },
          {
            "name": "normalized_email",
            "type": "string",
            "limit": 256
          },
          {
            "name": "email_confirmed",
            "type": "boolean",
            "null": false
          },
          {
            "name": "password_hash",
            "type": "text"
          },
          {
            "name": "security_stamp",
            "type": "text"
          },
          {
            "name": "concurrency_stamp",
            "type": "text"
          },
          {
            "name": "phone_number",
            "type": "text"
          },
          {
            "name": "phone_number_confirmed",
            "type": "boolean",
            "null": false
          },
          {
            "name": "two_factor_enabled",
            "type": "boolean",
            "null": false
          },
          {
            "name": "lockout_end",
            "type": "datetime"
          },
          {
            "name": "lockout_enabled",
            "type": "boolean",
            "null": false
          },
          {
            "name": "access_failed_count",
            "type": "integer",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "EmailIndex",
            "fields": [
              "normalized_email"
            ],
            "using": "btree"
          },
          {
            "name": "UserNameIndex",
            "fields": [
              "normalized_user_name"
            ],
            "unique": true,
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "customer_shops",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "status",
            "type": "integer",
            "null": false
          },
          {
            "name": "customer_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "shop_id",
            "type": "integer",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_customer_shops_customer_id",
            "fields": [
              "customer_id"
            ],
            "using": "btree"
          },
          {
            "name": "IX_customer_shops_shop_id",
            "fields": [
              "shop_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "favourite_orders",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "customer_id",
            "type": "integer"
          },
          {
            "name": "order_id",
            "type": "integer"
          }
        ],
        "indexes": [
          {
            "name": "IX_favourite_orders_customer_id",
            "fields": [
              "customer_id"
            ],
            "using": "btree"
          },
          {
            "name": "IX_favourite_orders_order_id",
            "fields": [
              "order_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "item_variations",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "item_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "name",
            "type": "text"
          },
          {
            "name": "default",
            "type": "boolean",
            "null": false
          },
          {
            "name": "qty",
            "type": "integer",
            "null": false
          },
          {
            "name": "qty_variation",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "IX_item_variations_item_id",
            "fields": [
              "item_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "items",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "title",
            "type": "text"
          },
          {
            "name": "group",
            "type": "text"
          }
        ],
        "indexes": [

        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "menu_categories",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "shop_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "name",
            "type": "text"
          },
          {
            "name": "position",
            "type": "integer",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_menu_categories_shop_id",
            "fields": [
              "shop_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "menu_category_products",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "menu_category_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "product_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "position",
            "type": "integer",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_menu_category_products_menu_category_id",
            "fields": [
              "menu_category_id"
            ],
            "using": "btree"
          },
          {
            "name": "IX_menu_category_products_product_id",
            "fields": [
              "product_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "orders",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "customer_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "shop_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "order_details",
            "type": "jsonb"
          },
          {
            "name": "placed_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "in_queue_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "making_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "made_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "cancelled_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "collected_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "fail_at",
            "type": "datetime",
            "null": false
          },
          {
            "name": "fail_reason",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "IX_orders_customer_id",
            "fields": [
              "customer_id"
            ],
            "using": "btree"
          },
          {
            "name": "IX_orders_shop_id",
            "fields": [
              "shop_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "product_variations",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "product_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "item_variation_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "active",
            "type": "boolean",
            "null": false
          },
          {
            "name": "title",
            "type": "text"
          },
          {
            "name": "price_offset",
            "type": "float",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_product_variations_item_variation_id",
            "fields": [
              "item_variation_id"
            ],
            "using": "btree"
          },
          {
            "name": "IX_product_variations_product_id",
            "fields": [
              "product_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "products",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "shop_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "title",
            "type": "text"
          },
          {
            "name": "price",
            "type": "float",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_products_shop_id",
            "fields": [
              "shop_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "shops",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "app_user_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "name",
            "type": "text"
          },
          {
            "name": "address",
            "type": "text"
          },
          {
            "name": "longitude",
            "type": "float",
            "null": false
          },
          {
            "name": "latitude",
            "type": "float",
            "null": false
          }
        ],
        "indexes": [
          {
            "name": "IX_shops_app_user_id",
            "fields": [
              "app_user_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      },
      {
        "name": "staffs",
        "primary_key": "id",
        "primary_key_type": "bigint",
        "columns": [
          {
            "name": "shop_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "user_id",
            "type": "integer",
            "null": false
          },
          {
            "name": "type",
            "type": "text"
          }
        ],
        "indexes": [
          {
            "name": "IX_staffs_shop_id",
            "fields": [
              "shop_id"
            ],
            "using": "btree"
          },
          {
            "name": "IX_staffs_user_id",
            "fields": [
              "user_id"
            ],
            "using": "btree"
          }
        ],
        "rails_schema": {
          "primary_key": null,
          "id": null,
          "force": "cascade"
        }
      }
    ],
    "foreign_keys": [
      {
        "left": "app_users",
        "right": "asp_net_users",
        "column": "user_id",
        "name": "fk_app_users_asp_net_users_user_id",
        "on_delete": "restrict"
      },
      {
        "left": "asp_net_role_claims",
        "right": "asp_net_roles",
        "column": "role_id",
        "name": "fk_asp_net_role_claims_asp_net_roles_role_id",
        "on_delete": "cascade"
      },
      {
        "left": "asp_net_user_claims",
        "right": "asp_net_users",
        "column": "user_id",
        "name": "fk_asp_net_user_claims_asp_net_users_user_id",
        "on_delete": "cascade"
      },
      {
        "left": "asp_net_user_logins",
        "right": "asp_net_users",
        "column": "user_id",
        "name": "fk_asp_net_user_logins_asp_net_users_user_id",
        "on_delete": "cascade"
      },
      {
        "left": "asp_net_user_roles",
        "right": "asp_net_roles",
        "column": "role_id",
        "name": "fk_asp_net_user_roles_asp_net_roles_role_id",
        "on_delete": "cascade"
      },
      {
        "left": "asp_net_user_roles",
        "right": "asp_net_users",
        "column": "user_id",
        "name": "fk_asp_net_user_roles_asp_net_users_user_id",
        "on_delete": "cascade"
      },
      {
        "left": "asp_net_user_tokens",
        "right": "asp_net_users",
        "column": "user_id",
        "name": "fk_asp_net_user_tokens_asp_net_users_user_id",
        "on_delete": "cascade"
      },
      {
        "left": "customer_shops",
        "right": "app_users",
        "column": "customer_id",
        "name": "fk_customer_shops_app_users_customer_id",
        "on_delete": "cascade"
      },
      {
        "left": "customer_shops",
        "right": "shops",
        "name": "fk_customer_shops_shops_shop_id",
        "on_delete": "cascade"
      },
      {
        "left": "favourite_orders",
        "right": "app_users",
        "column": "customer_id",
        "name": "fk_favourite_orders_app_users_customer_id",
        "on_delete": "restrict"
      },
      {
        "left": "favourite_orders",
        "right": "orders",
        "name": "fk_favourite_orders_orders_order_id",
        "on_delete": "restrict"
      },
      {
        "left": "item_variations",
        "right": "items",
        "name": "fk_item_variations_items_item_id",
        "on_delete": "cascade"
      },
      {
        "left": "menu_categories",
        "right": "shops",
        "name": "fk_menu_categories_shops_shop_id",
        "on_delete": "cascade"
      },
      {
        "left": "menu_category_products",
        "right": "menu_categories",
        "name": "fk_menu_category_products_menu_categories_menu_category_id",
        "on_delete": "cascade"
      },
      {
        "left": "menu_category_products",
        "right": "products",
        "name": "fk_menu_category_products_products_product_id",
        "on_delete": "cascade"
      },
      {
        "left": "orders",
        "right": "app_users",
        "column": "customer_id",
        "name": "fk_orders_app_users_customer_id",
        "on_delete": "cascade"
      },
      {
        "left": "orders",
        "right": "shops",
        "name": "fk_orders_shops_shop_id",
        "on_delete": "cascade"
      },
      {
        "left": "product_variations",
        "right": "item_variations",
        "name": "fk_product_variations_item_variations_item_variation_id",
        "on_delete": "cascade"
      },
      {
        "left": "product_variations",
        "right": "products",
        "name": "fk_product_variations_products_product_id",
        "on_delete": "cascade"
      },
      {
        "left": "products",
        "right": "shops",
        "name": "fk_products_shops_shop_id",
        "on_delete": "cascade"
      },
      {
        "left": "shops",
        "right": "app_users",
        "name": "fk_shops_app_users_app_user_id",
        "on_delete": "cascade"
      },
      {
        "left": "staffs",
        "right": "app_users",
        "column": "user_id",
        "name": "fk_staffs_app_users_user_id",
        "on_delete": "cascade"
      },
      {
        "left": "staffs",
        "right": "shops",
        "name": "fk_staffs_shops_shop_id",
        "on_delete": "cascade"
      }
    ],
    "indexes": [
      {
        "name": "EmailIndex",
        "fields": [
          "normalized_email"
        ],
        "using": "btree"
      },
      {
        "name": "IX_app_users_user_id",
        "fields": [
          "user_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_asp_net_role_claims_role_id",
        "fields": [
          "role_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_asp_net_user_claims_user_id",
        "fields": [
          "user_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_asp_net_user_logins_user_id",
        "fields": [
          "user_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_asp_net_user_roles_role_id",
        "fields": [
          "role_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_customer_shops_customer_id",
        "fields": [
          "customer_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_customer_shops_shop_id",
        "fields": [
          "shop_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_favourite_orders_customer_id",
        "fields": [
          "customer_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_favourite_orders_order_id",
        "fields": [
          "order_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_item_variations_item_id",
        "fields": [
          "item_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_menu_categories_shop_id",
        "fields": [
          "shop_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_menu_category_products_menu_category_id",
        "fields": [
          "menu_category_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_menu_category_products_product_id",
        "fields": [
          "product_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_orders_customer_id",
        "fields": [
          "customer_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_orders_shop_id",
        "fields": [
          "shop_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_product_variations_item_variation_id",
        "fields": [
          "item_variation_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_product_variations_product_id",
        "fields": [
          "product_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_products_shop_id",
        "fields": [
          "shop_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_shops_app_user_id",
        "fields": [
          "app_user_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_staffs_shop_id",
        "fields": [
          "shop_id"
        ],
        "using": "btree"
      },
      {
        "name": "IX_staffs_user_id",
        "fields": [
          "user_id"
        ],
        "using": "btree"
      },
      {
        "name": "RoleNameIndex",
        "fields": [
          "normalized_name"
        ],
        "unique": true,
        "using": "btree"
      },
      {
        "name": "UserNameIndex",
        "fields": [
          "normalized_user_name"
        ],
        "unique": true,
        "using": "btree"
      }
    ],
    "meta": {
      "rails": 4,
      "db_info": {
        "type": "postgres",
        "version": null,
        "extensions": [
          "plpgsql"
        ]
      },
      "unique_keys": [
        {
          "type": "columns",
          "category": null,
          "key": "all",
          "keys": [
            "name",
            "type",
            "limit",
            "null"
          ]
        },
        {
          "type": "columns",
          "category": null,
          "key": "name,type",
          "keys": [
            "name",
            "type"
          ]
        },
        {
          "type": "columns",
          "category": null,
          "key": "name,type,limit",
          "keys": [
            "name",
            "type",
            "limit"
          ]
        },
        {
          "type": "columns",
          "category": null,
          "key": "name,type,limit,null",
          "keys": [
            "name",
            "type",
            "limit",
            "null"
          ]
        },
        {
          "type": "columns",
          "category": null,
          "key": "name,type,null",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "boolean",
          "key": "all",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "boolean",
          "key": "name,type,null",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "datetime",
          "key": "all",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "datetime",
          "key": "name,type",
          "keys": [
            "name",
            "type"
          ]
        },
        {
          "type": "fields",
          "category": "datetime",
          "key": "name,type,null",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "float",
          "key": "all",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "float",
          "key": "name,type,null",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "integer",
          "key": "all",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "integer",
          "key": "name,type",
          "keys": [
            "name",
            "type"
          ]
        },
        {
          "type": "fields",
          "category": "integer",
          "key": "name,type,null",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "jsonb",
          "key": "all",
          "keys": [
            "name",
            "type"
          ]
        },
        {
          "type": "fields",
          "category": "jsonb",
          "key": "name,type",
          "keys": [
            "name",
            "type"
          ]
        },
        {
          "type": "fields",
          "category": "string",
          "key": "all",
          "keys": [
            "name",
            "type",
            "limit",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "string",
          "key": "name,type,limit",
          "keys": [
            "name",
            "type",
            "limit"
          ]
        },
        {
          "type": "fields",
          "category": "string",
          "key": "name,type,limit,null",
          "keys": [
            "name",
            "type",
            "limit",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "text",
          "key": "all",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "fields",
          "category": "text",
          "key": "name,type",
          "keys": [
            "name",
            "type"
          ]
        },
        {
          "type": "fields",
          "category": "text",
          "key": "name,type,null",
          "keys": [
            "name",
            "type",
            "null"
          ]
        },
        {
          "type": "foreign_keys",
          "category": null,
          "key": "all",
          "keys": [
            "left",
            "right",
            "column",
            "name",
            "on_delete"
          ]
        },
        {
          "type": "foreign_keys",
          "category": null,
          "key": "left,right,column,name,on_delete",
          "keys": [
            "left",
            "right",
            "column",
            "name",
            "on_delete"
          ]
        },
        {
          "type": "foreign_keys",
          "category": null,
          "key": "left,right,name,on_delete",
          "keys": [
            "left",
            "right",
            "name",
            "on_delete"
          ]
        },
        {
          "type": "indexes",
          "category": null,
          "key": "all",
          "keys": [
            "name",
            "fields",
            "using",
            "unique"
          ]
        },
        {
          "type": "indexes",
          "category": null,
          "key": "name,fields,unique,using",
          "keys": [
            "name",
            "fields",
            "unique",
            "using"
          ]
        },
        {
          "type": "indexes",
          "category": null,
          "key": "name,fields,using",
          "keys": [
            "name",
            "fields",
            "using"
          ]
        }
      ]
    }
  },
  "investigate": {
    "issues": [
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "app_user_id",
        "message": "samples.app_user_id => app_users - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "sales_user_id",
        "message": "samples.sales_user_id => sales_users - Table not found for a column that looks like foreign_key"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "shop_id",
        "message": "samples.shop_id => shops - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "user_id",
        "message": "samples.user_id => users - Table not found for a column that looks like foreign_key"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "order_id",
        "message": "favourite_orders.order_id => orders - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "item_id",
        "message": "item_variations.item_id => items - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "menu_category_id",
        "message": "menu_category_products.menu_category_id => menu_categories - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "product_id",
        "message": "menu_category_products.product_id => products - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step3_attach_columns",
        "location": "lookup_foreign_table",
        "key": "item_variation_id",
        "message": "product_variations.item_variation_id => item_variations - Relationship not found in DB, so have inferred this relationship. You may want to check that this relation is correct"
      },
      {
        "step": "step5_attach_dictionary",
        "location": "process",
        "key": "app_user,user_id,text",
        "message": "app_user has a type mismatch for column name: user_id"
      },
      {
        "step": "step5_attach_dictionary",
        "location": "process",
        "key": "asp_net_role,name,string",
        "message": "asp_net_role has a type mismatch for column name: name"
      }
    ]
  }
}