Using Local GEMs
KUtil::Version                      : 0.0.27    : /Users/davidcruwys/dev/kgems/k_util/lib/k_util/version.rb
KLog::Version                       : 0.0.33    : /Users/davidcruwys/dev/kgems/k_log/lib/k_log/version.rb
Peeky::Version                      : 0.0.49    : /Users/davidcruwys/dev/kgems/peeky/lib/peeky/version.rb
KDomain::Version                    : 0.0.26    : /Users/davidcruwys/dev/kgems/k_domain/lib/k_domain/version.rb

KDomain::Queries::DomainModelQuery
  when using simple DOM
    #initialize
      .domain_model
[32mINFO [0m [32mTIME 1                        [0m:   0.000026   0.000069   0.000095 (  0.000089)

[32mINFO [0m [32mTIME 2                        [0m:   0.002080   0.000082   0.002162 (  0.002162)

[32mINFO [0m [32mTIME 3                        [0m:   0.004129   0.000045   0.004174 (  0.004188)

[32mINFO [0m [32mTIME 4                        [0m:   0.001127   0.000002   0.001129 (  0.001130)

        is expected not to be nil
    #all
[32mINFO [0m [32mTIME 1                        [0m:   0.000024   0.000097   0.000121 (  0.000129)

[32mINFO [0m [32mTIME 2                        [0m:   0.001906   0.000087   0.001993 (  0.001996)

[32mINFO [0m [32mTIME 3                        [0m:   0.004046   0.000053   0.004099 (  0.004106)

[32mINFO [0m [32mTIME 4                        [0m:   0.001086   0.000001   0.001087 (  0.001086)

      is expected to eq 21
    #query
      when filter for models with associated ruby file
[32mINFO [0m [32mTIME 1                        [0m:   0.000026   0.000115   0.000141 (  0.000141)

[32mINFO [0m [32mTIME 2                        [0m:   0.001891   0.000082   0.001973 (  0.001974)

[32mINFO [0m [32mTIME 3                        [0m:   0.003963   0.000052   0.004015 (  0.004017)

[32mINFO [0m [32mTIME 4                        [0m:   0.001150   0.000001   0.001151 (  0.001150)

        is expected to all have attributes {:ruby? => true}
      when filter for model without ruby file
[32mINFO [0m [32mTIME 1                        [0m:   0.000029   0.000110   0.000139 (  0.000141)

[32mINFO [0m [32mTIME 2                        [0m:   0.002294   0.000111   0.002405 (  0.002420)

[32mINFO [0m [32mTIME 3                        [0m:   0.005517   0.000058   0.005575 (  0.005578)

[32mINFO [0m [32mTIME 4                        [0m:   0.001145   0.000001   0.001146 (  0.001147)

        is expected to all have attributes {:ruby? => false}
      when filter for models with primary key
[32mINFO [0m [32mTIME 1                        [0m:   0.000023   0.000100   0.000123 (  0.000121)

[32mINFO [0m [32mTIME 2                        [0m:   0.002032   0.000063   0.002095 (  0.002097)

[32mINFO [0m [32mTIME 3                        [0m:   0.004192   0.000081   0.004273 (  0.004384)

[32mINFO [0m [32mTIME 4                        [0m:   0.001133   0.000001   0.001134 (  0.001135)

        is expected to all have attributes {:pk? => true}
      when filter for models without primary key
[32mINFO [0m [32mTIME 1                        [0m:   0.000021   0.000050   0.000071 (  0.000069)

[32mINFO [0m [32mTIME 2                        [0m:   0.001945   0.000029   0.001974 (  0.001974)

[32mINFO [0m [32mTIME 3                        [0m:   0.004020   0.000056   0.004076 (  0.004093)

[32mINFO [0m [32mTIME 4                        [0m:   0.001107   0.000009   0.001116 (  0.001117)

        is expected to all have attributes {:pk? => false}
  when using advanced DOM
[31mERROR[0m xxxxxxxxxxxxxxxxxxxxxxxxxxxx
[32mINFO [0m [32mTIME 1                        [0m:   0.000348   0.001905   0.002253 (  0.002255)

[32mINFO [0m [32mTIME 2                        [0m:   0.077640   0.003481   0.081121 (  0.081380)

[32mINFO [0m [32mTIME 3                        [0m:   0.103403   0.002818   0.106221 (  0.110286)

[32mINFO [0m [32mTIME 4                        [0m:   0.128748   0.003276   0.132024 (  0.132977)

    #all
      behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                    | NAME_PLURAL              | TABLE_NAME               | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
------------------------|--------------------------|--------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum   | account_history_data     | account_history_data     | entity | id  | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log              | action_logs              | action_logs              | entity | id  | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                | activities               | activities               | entity | id  | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                 | addresses                | addresses                | entity | id  | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment              | adjustments              | adjustments              | entity | id  | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
affiliation             | affiliations             | affiliations             | entity | id  | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, user_id, tenant_id, primary                                                                                                                       
api_log                 | api_logs                 | api_logs                 | entity | id  | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
ar_internal_metadatum   | ar_internal_metadata     | ar_internal_metadata     | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                                                                     
asset                   | assets                   | assets                   | entity | id  | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result   | background_job_results   | background_job_results   | entity | id  | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job          | background_jobs          | background_jobs          | entity | id  | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                  | backups                  | backups                  | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
badges_sash             | badges_sashes            | badges_sashes            | entity | id  | bigint  | true     | 5            | 3        | 1           |        |             | 1             |                | 1           | 3                | id, badge_id, sash_id, notified_user, created_at                                                                                                      
bookmark                | bookmarks                | bookmarks                | entity | id  | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month            | budget_months            | budget_months            | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                  | budgets                  | budgets                  | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                   | builds                   | builds                   | entity | id  | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_equipment | business_plan_equipments | business_plan_equipments | entity | id  | bigint  | true     | 18           | 15       | 1           | 2      |             |               |                |             | 17               | id, title, device, make, model, equip_type, cost, purchase_date, purchase_reason, sales_plan, installation_plan, additional_details                   
business_plan_goal_item | business_plan_goal_items | business_plan_goal_items | entity | id  | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_goal      | business_plan_goals      | business_plan_goals      | entity | id  | bigint  | true     | 9            | 5        | 1           | 3      |             |               |                |             | 8                | id, business_plan_kpi_id, global, financial_year, average, industry_average, business_plan_id, tenant_id, enterprise_id                               
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
        example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
    #query
      when model has associated ruby file
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                           | NAME_PLURAL                    | TABLE_NAME                     | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-------------------------------|--------------------------------|--------------------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum          | account_history_data           | account_history_data           | entity | id | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log                     | action_logs                    | action_logs                    | entity | id | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                       | activities                     | activities                     | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                        | addresses                      | addresses                      | entity | id | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment                     | adjustments                    | adjustments                    | entity | id | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
api_log                        | api_logs                       | api_logs                       | entity | id | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
asset                          | assets                         | assets                         | entity | id | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result          | background_job_results         | background_job_results         | entity | id | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job                 | background_jobs                | background_jobs                | entity | id | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                         | backups                        | backups                        | entity | id | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
bookmark                       | bookmarks                      | bookmarks                      | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month                   | budget_months                  | budget_months                  | entity | id | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                         | budgets                        | budgets                        | entity | id | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                          | builds                         | builds                         | entity | id | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_equipment        | business_plan_equipments       | business_plan_equipments       | entity | id | bigint  | true     | 18           | 15       | 1           | 2      |             |               |                |             | 17               | id, title, device, make, model, equip_type, cost, purchase_date, purchase_reason, sales_plan, installation_plan, additional_details                   
business_plan_goal_item        | business_plan_goal_items       | business_plan_goal_items       | entity | id | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_goal             | business_plan_goals            | business_plan_goals            | entity | id | bigint  | true     | 9            | 5        | 1           | 3      |             |               |                |             | 8                | id, business_plan_kpi_id, global, financial_year, average, industry_average, business_plan_id, tenant_id, enterprise_id                               
business_plan_kpi              | business_plan_kpis             | business_plan_kpis             | entity | id | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, is_cost                                                                                                                     
business_plan_marketing_act... | business_plan_marketing_act... | business_plan_marketing_act... | entity | id | bigint  | true     | 12           | 9        | 1           | 2      |             |               |                |             | 11               | id, title, quarter_1, quarter_2, quarter_3, quarter_4, percentage, max_cap, global, business_plan_id, tenant_id, enterprise_id                        
business_plan_plan_category    | business_plan_plan_categories  | business_plan_plan_categories  | entity | id | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, actions                                                                                                                     
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when model is missing ruby file
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                       | NAME_PLURAL                  | TABLE_NAME                   | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                   
---------------------------|------------------------------|------------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|----------------------------------------------------------------------------------------------------------------
affiliation                | affiliations                 | affiliations                 | entity | id  | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, user_id, tenant_id, primary                                                                                
ar_internal_metadatum      | ar_internal_metadata         | ar_internal_metadata         | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                              
badges_sash                | badges_sashes                | badges_sashes                | entity | id  | bigint  | true     | 5            | 3        | 1           |        |             | 1             |                | 1           | 3                | id, badge_id, sash_id, notified_user, created_at                                                               
campaign_cach              | campaign_caches              | campaign_caches              | entity | id  | bigint  | true     | 7            | 4        | 1           |        |             | 2             |                | 2           | 4                | id, tenant_id, campaign_id, cache_hash, match_count, created_at, updated_at                                    
campaign_group             | campaign_groups              | campaign_groups              | entity | id  | bigint  | true     | 5            | 4        | 1           |        |             |               |                |             | 4                | id, name, primary_id, campaign_ids, enterprise_id                                                              
campaign_messages_tracker  | campaign_messages_trackers   | campaign_messages_trackers   | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_message_id, tracker_id                                                                                
campaigns_contact_list     | campaigns_contact_lists      | campaigns_contact_lists      | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_id, contact_list_id                                                                                   
cash_drawer                | cash_drawers                 | cash_drawers                 | entity | id  | bigint  | true     | 26           | 23       | 1           |        |             | 2             |                | 2           | 23               | id, amount, arbalance, cardcount, cardtotal, cashtotal, changefund, checkcount, checktotal, fund, held, deleted
contact_groups_contact     | contact_groups_contacts      | contact_groups_contacts      | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_group_id                                                                                   
contact_list_cach          | contact_list_caches          | contact_list_caches          | entity | id  | bigint  | true     | 7            | 4        | 1           |        |             | 2             |                | 2           | 4                | id, tenant_id, contact_list_id, cache_hash, match_count, created_at, updated_at                                
contact_list_rule_cach     | contact_list_rule_caches     | contact_list_rule_caches     | entity | id  | bigint  | true     | 7            | 4        | 1           |        |             | 2             |                | 2           | 4                | id, tenant_id, contact_list_id, cache_hash, match_count, created_at, updated_at                                
contact_list_rule_row_cach | contact_list_rule_row_caches | contact_list_rule_row_caches | entity | id  | bigint  | true     | 5            | 4        | 1           |        |             |               |                |             | 4                | id, tenant_id, contact_list_rule_cache_id, contact_id, contact_latest_order_date                               
contact_lists_contact      | contact_lists_contacts       | contact_lists_contacts       | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_list_id                                                                                    
countries_enterprise       | countries_enterprises        | countries_enterprises        | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | country_id, enterprise_id                                                                                      
country_states_holiday     | country_states_holidays      | country_states_holidays      | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | holiday_id, country_state_id                                                                                   
email_soft_bounce          | email_soft_bounces           | email_soft_bounces           | entity | id  | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, tenant_id, email_address, soft_bounce_count                                                                
email_tags_email           | email_tags_emails            | email_tags_emails            | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, email_tag_id                                                                                         
emails_tracker             | emails_trackers              | emails_trackers              | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, tracker_id                                                                                           
groups_tenant              | groups_tenants               | groups_tenants               | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | tenant_id, group_id                                                                                            
list                       | lists                        | lists                        | entity | id  | bigint  | true     | 11           | 8        | 1           |        |             | 2             |                | 2           | 8                | id, name, description, filter, user_id, global, site_wide, tenant_id, enterprise_id, created_at, updated_at    
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when model has primary key
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                    | NAME_PLURAL              | TABLE_NAME               | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
------------------------|--------------------------|--------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum   | account_history_data     | account_history_data     | entity | id  | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log              | action_logs              | action_logs              | entity | id  | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                | activities               | activities               | entity | id  | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                 | addresses                | addresses                | entity | id  | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment              | adjustments              | adjustments              | entity | id  | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
affiliation             | affiliations             | affiliations             | entity | id  | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, user_id, tenant_id, primary                                                                                                                       
api_log                 | api_logs                 | api_logs                 | entity | id  | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
ar_internal_metadatum   | ar_internal_metadata     | ar_internal_metadata     | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                                                                     
asset                   | assets                   | assets                   | entity | id  | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result   | background_job_results   | background_job_results   | entity | id  | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job          | background_jobs          | background_jobs          | entity | id  | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                  | backups                  | backups                  | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
badges_sash             | badges_sashes            | badges_sashes            | entity | id  | bigint  | true     | 5            | 3        | 1           |        |             | 1             |                | 1           | 3                | id, badge_id, sash_id, notified_user, created_at                                                                                                      
bookmark                | bookmarks                | bookmarks                | entity | id  | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month            | budget_months            | budget_months            | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                  | budgets                  | budgets                  | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                   | builds                   | builds                   | entity | id  | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_equipment | business_plan_equipments | business_plan_equipments | entity | id  | bigint  | true     | 18           | 15       | 1           | 2      |             |               |                |             | 17               | id, title, device, make, model, equip_type, cost, purchase_date, purchase_reason, sales_plan, installation_plan, additional_details                   
business_plan_goal_item | business_plan_goal_items | business_plan_goal_items | entity | id  | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_goal      | business_plan_goals      | business_plan_goals      | entity | id  | bigint  | true     | 9            | 5        | 1           | 3      |             |               |                |             | 8                | id, business_plan_kpi_id, global, financial_year, average, industry_average, business_plan_id, tenant_id, enterprise_id                               
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when model does not have primary key
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                      | NAME_PLURAL                | TABLE_NAME                 | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                   
--------------------------|----------------------------|----------------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|--------------------------------
campaign_messages_tracker | campaign_messages_trackers | campaign_messages_trackers | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_message_id, tracker_id
campaigns_contact_list    | campaigns_contact_lists    | campaigns_contact_lists    | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_id, contact_list_id   
contact_groups_contact    | contact_groups_contacts    | contact_groups_contacts    | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_group_id   
contact_lists_contact     | contact_lists_contacts     | contact_lists_contacts     | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_list_id    
countries_enterprise      | countries_enterprises      | countries_enterprises      | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | country_id, enterprise_id      
country_states_holiday    | country_states_holidays    | country_states_holidays    | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | holiday_id, country_state_id   
email_tags_email          | email_tags_emails          | email_tags_emails          | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, email_tag_id         
emails_tracker            | emails_trackers            | emails_trackers            | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, tracker_id           
groups_tenant             | groups_tenants             | groups_tenants             | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | tenant_id, group_id            
[32mmodels                        [0m: 9
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when column count
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                      | NAME_PLURAL                | TABLE_NAME                 | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                   
--------------------------|----------------------------|----------------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|--------------------------------
campaign_messages_tracker | campaign_messages_trackers | campaign_messages_trackers | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_message_id, tracker_id
campaigns_contact_list    | campaigns_contact_lists    | campaigns_contact_lists    | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_id, contact_list_id   
contact_groups_contact    | contact_groups_contacts    | contact_groups_contacts    | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_group_id   
contact_lists_contact     | contact_lists_contacts     | contact_lists_contacts     | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_list_id    
country                   | countries                  | countries                  | entity | id | bigint  | true     | 2            | 1        | 1           |        |             |               |                |             | 1                | id, name                       
countries_enterprise      | countries_enterprises      | countries_enterprises      | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | country_id, enterprise_id      
country_states_holiday    | country_states_holidays    | country_states_holidays    | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | holiday_id, country_state_id   
email_delivery            | email_deliveries           | email_deliveries           | entity | id | bigint  | true     | 2            | 1        | 1           |        |             |               |                |             | 1                | id, message                    
email_tags_email          | email_tags_emails          | email_tags_emails          | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, email_tag_id         
emails_tracker            | emails_trackers            | emails_trackers            | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, tracker_id           
groups_tenant             | groups_tenants             | groups_tenants             | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | tenant_id, group_id            
[32mmodels                        [0m: 11
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when data column count
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                        | NAME_PLURAL                   | TABLE_NAME                    | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                        
----------------------------|-------------------------------|-------------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------
ar_internal_metadatum       | ar_internal_metadata          | ar_internal_metadata          | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                   
backup                      | backups                       | backups                       | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                            
business_plan_kpi           | business_plan_kpis            | business_plan_kpis            | entity | id  | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, is_cost                                                   
business_plan_plan_category | business_plan_plan_categories | business_plan_plan_categories | entity | id  | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, actions                                                   
campaign_messages_tracker   | campaign_messages_trackers    | campaign_messages_trackers    | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_message_id, tracker_id                                                     
campaigns_contact_list      | campaigns_contact_lists       | campaigns_contact_lists       | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_id, contact_list_id                                                        
company_metric              | company_metrics               | company_metrics               | entity | id  | bigint  | true     | 5            | 2        | 1           | 2      |             |               |                |             | 4                | id, tenant_id, company_id, report_month, report_series                              
contact_groups_contact      | contact_groups_contacts       | contact_groups_contacts       | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_group_id                                                        
contact_list_count          | contact_list_counts           | contact_list_counts           | entity | id  | bigint  | true     | 5            | 2        | 1           | 2      |             |               |                |             | 4                | id, tenant_id, contact_list_id, total_count, generate_duration                      
contact_lists_contact       | contact_lists_contacts        | contact_lists_contacts        | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_list_id                                                         
countries_enterprise        | countries_enterprises         | countries_enterprises         | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | country_id, enterprise_id                                                           
country_states_holiday      | country_states_holidays       | country_states_holidays       | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | holiday_id, country_state_id                                                        
email_credential            | email_credentials             | email_credentials             | entity | id  | bigint  | true     | 8            | 2        | 1           | 3      |             | 2             |                | 2           | 5                | id, user_id, tenant_id, enterprise_id, platform, credentials, created_at, updated_at
email_tags_email            | email_tags_emails             | email_tags_emails             | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, email_tag_id                                                              
email_template_field        | email_template_fields         | email_template_fields         | entity | id  | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, email_template_id, name, required                                               
emails_tracker              | emails_trackers               | emails_trackers               | entity |     |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | email_id, tracker_id                                                                
enterprise_business_submit  | enterprise_business_submits   | enterprise_business_submits   | entity | id  | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, financial_year, body, enterprise_id                                             
enterprise_business_welcome | enterprise_business_welcomes  | enterprise_business_welcomes  | entity | id  | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, financial_year, body, enterprise_id                                             
enterprise_salestarget      | enterprise_salestargets       | enterprise_salestargets       | entity | id  | bigint  | true     | 6            | 2        | 1           | 3      |             |               |                |             | 5                | id, prospect_status_id, enterprise_id, amount, items, lead_type_id                  
enterprise_togglefield      | enterprise_togglefields       | enterprise_togglefields       | entity | id  | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, enterprise_id, field, read_only                                                 
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when foreign key column count
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME     | NAME_PLURAL | TABLE_NAME | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                               
---------|-------------|------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|--------------------------------------------------------------------------------------------------------------------------------------------
activity | activities  | activities | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id   
campaign | campaigns   | campaigns  | entity | id | bigint  | true     | 46           | 37       | 1           | 6      |             | 2             |                | 2           | 43               | id, tenant_id, name, description, global, status, method, subject, body, created_at, updated_at, email_template_id                         
company  | companies   | companies  | entity | id | bigint  | true     | 133          | 123      | 1           | 7      |             | 2             |                | 2           | 130              | id, name, printsmith_id, created_at, updated_at, tenant_id, exclude_from_analysis, walk_in, dirty, deleted, avg_conversion_ratio, mtd_sales
contact  | contacts    | contacts   | entity | id | bigint  | true     | 126          | 117      | 1           | 6      |             | 2             |                | 2           | 123              | id, tenant_id, company_id, printsmith_id, first_name, last_name, email, phone, created_at, updated_at, dirty, gender                       
estimate | estimates   | estimates  | entity | id | bigint  | true     | 93           | 81       | 1           | 7      |             | 2             | 1              | 3           | 88               | id, name, tenant_id, created_at, updated_at, grand_total, printsmith_id, company_id, status, deleted_at, on_pending_list, wanted_by        
[32mmodels                        [0m: 5
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME     | NAME_PLURAL | TABLE_NAME | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                               
---------|-------------|------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|--------------------------------------------------------------------------------------------------------------------------------------------
activity | activities  | activities | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id   
company  | companies   | companies  | entity | id | bigint  | true     | 133          | 123      | 1           | 7      |             | 2             |                | 2           | 130              | id, name, printsmith_id, created_at, updated_at, tenant_id, exclude_from_analysis, walk_in, dirty, deleted, avg_conversion_ratio, mtd_sales
estimate | estimates   | estimates  | entity | id | bigint  | true     | 93           | 81       | 1           | 7      |             | 2             | 1              | 3           | 88               | id, name, tenant_id, created_at, updated_at, grand_total, printsmith_id, company_id, status, deleted_at, on_pending_list, wanted_by        
[32mmodels                        [0m: 3
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME     | NAME_PLURAL | TABLE_NAME | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                            
---------|-------------|------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-----------------------------------------------------------------------------------------------------------------------------------------
activity | activities  | activities | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id
[32mmodels                        [0m: 1
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when polymorphic foreign key column count
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                 | NAME_PLURAL           | TABLE_NAME            | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                            
---------------------|-----------------------|-----------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-----------------------------------------------------------------------------------------------------------------------------------------
action_log           | action_logs           | action_logs           | entity | id | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                        
activity             | activities            | activities            | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id
api_log              | api_logs              | api_logs              | entity | id | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status              
asset                | assets                | assets                | entity | id | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id
bookmark             | bookmarks             | bookmarks             | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                           
email_template_value | email_template_values | email_template_values | entity | id | bigint  | true     | 6            | 3        | 1           | 1      | 1           |               |                | 1           | 4                | id, email_template_field_id, element_id, element_type, value, tenant_id                                                                 
email                | emails                | emails                | entity | id | bigint  | true     | 30           | 22       | 1           | 4      | 1           | 2             |                | 3           | 26               | id, to, from, read, user_id, tenant_id, from_user_id, to_user_id, direction, context_id, context_type, subject                          
estimate_element     | estimate_elements     | estimate_elements     | entity | id | bigint  | true     | 7            |          | 1           | 3      | 1           | 2             |                | 3           | 3                | id, estimate_id, element_id, element_type, created_at, updated_at, tenant_id                                                            
exclusion            | exclusions            | exclusions            | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                           
filter_default       | filter_defaults       | filter_defaults       | entity | id | bigint  | true     | 6            | 2        | 1           | 2      | 1           |               |                | 1           | 4                | id, user_id, context_id, context_type, section, tenant_id                                                                               
interest_context     | interest_contexts     | interest_contexts     | entity | id | bigint  | true     | 9            | 1        | 1           | 4      | 1           | 2             |                | 3           | 5                | id, interest_id, context_id, context_type, user_id, tenant_id, created_at, updated_at, interest_type                                    
invoice_element      | invoice_elements      | invoice_elements      | entity | id | bigint  | true     | 7            |          | 1           | 3      | 1           | 2             |                | 3           | 3                | id, invoice_id, element_id, tenant_id, element_type, created_at, updated_at                                                             
meeting              | meetings              | meetings              | entity | id | bigint  | true     | 19           | 12       | 1           | 3      | 1           | 2             |                | 3           | 15               | id, user_id, tenant_id, context_id, context_type, message, location, title, summary, start_date, end_date, status                       
next_activity        | next_activities       | next_activities       | entity | id | bigint  | true     | 9            | 2        | 1           | 3      | 1           | 2             |                | 3           | 5                | id, scheduled, contact_id, context_id, context_type, status, tenant_id, created_at, updated_at                                          
note                 | notes                 | notes                 | entity | id | bigint  | true     | 11           | 4        | 1           | 3      | 1           | 2             |                | 3           | 7                | id, user_id, tenant_id, context_id, context_type, message, created_at, updated_at, title, deleted, prospect_status_item_id              
portal_comment       | portal_comments       | portal_comments       | entity | id | bigint  | true     | 11           | 4        | 1           | 3      | 1           | 2             |                | 3           | 7                | id, tenant_id, user_id, context_type, context_id, body, created_at, updated_at, name, status, proof_id                                  
[32mmodels                        [0m: 16
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                 | NAME_PLURAL           | TABLE_NAME            | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                            
---------------------|-----------------------|-----------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-----------------------------------------------------------------------------------------------------------------------------------------
action_log           | action_logs           | action_logs           | entity | id | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                        
activity             | activities            | activities            | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id
api_log              | api_logs              | api_logs              | entity | id | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status              
asset                | assets                | assets                | entity | id | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id
bookmark             | bookmarks             | bookmarks             | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                           
email_template_value | email_template_values | email_template_values | entity | id | bigint  | true     | 6            | 3        | 1           | 1      | 1           |               |                | 1           | 4                | id, email_template_field_id, element_id, element_type, value, tenant_id                                                                 
email                | emails                | emails                | entity | id | bigint  | true     | 30           | 22       | 1           | 4      | 1           | 2             |                | 3           | 26               | id, to, from, read, user_id, tenant_id, from_user_id, to_user_id, direction, context_id, context_type, subject                          
estimate_element     | estimate_elements     | estimate_elements     | entity | id | bigint  | true     | 7            |          | 1           | 3      | 1           | 2             |                | 3           | 3                | id, estimate_id, element_id, element_type, created_at, updated_at, tenant_id                                                            
exclusion            | exclusions            | exclusions            | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                           
filter_default       | filter_defaults       | filter_defaults       | entity | id | bigint  | true     | 6            | 2        | 1           | 2      | 1           |               |                | 1           | 4                | id, user_id, context_id, context_type, section, tenant_id                                                                               
interest_context     | interest_contexts     | interest_contexts     | entity | id | bigint  | true     | 9            | 1        | 1           | 4      | 1           | 2             |                | 3           | 5                | id, interest_id, context_id, context_type, user_id, tenant_id, created_at, updated_at, interest_type                                    
invoice_element      | invoice_elements      | invoice_elements      | entity | id | bigint  | true     | 7            |          | 1           | 3      | 1           | 2             |                | 3           | 3                | id, invoice_id, element_id, tenant_id, element_type, created_at, updated_at                                                             
meeting              | meetings              | meetings              | entity | id | bigint  | true     | 19           | 12       | 1           | 3      | 1           | 2             |                | 3           | 15               | id, user_id, tenant_id, context_id, context_type, message, location, title, summary, start_date, end_date, status                       
next_activity        | next_activities       | next_activities       | entity | id | bigint  | true     | 9            | 2        | 1           | 3      | 1           | 2             |                | 3           | 5                | id, scheduled, contact_id, context_id, context_type, status, tenant_id, created_at, updated_at                                          
note                 | notes                 | notes                 | entity | id | bigint  | true     | 11           | 4        | 1           | 3      | 1           | 2             |                | 3           | 7                | id, user_id, tenant_id, context_id, context_type, message, created_at, updated_at, title, deleted, prospect_status_item_id              
portal_comment       | portal_comments       | portal_comments       | entity | id | bigint  | true     | 11           | 4        | 1           | 3      | 1           | 2             |                | 3           | 7                | id, tenant_id, user_id, context_type, context_id, body, created_at, updated_at, name, status, proof_id                                  
[32mmodels                        [0m: 16
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                 | NAME_PLURAL           | TABLE_NAME            | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                            
---------------------|-----------------------|-----------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-----------------------------------------------------------------------------------------------------------------------------------------
action_log           | action_logs           | action_logs           | entity | id | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                        
activity             | activities            | activities            | entity | id | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id
api_log              | api_logs              | api_logs              | entity | id | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status              
asset                | assets                | assets                | entity | id | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id
bookmark             | bookmarks             | bookmarks             | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                           
email_template_value | email_template_values | email_template_values | entity | id | bigint  | true     | 6            | 3        | 1           | 1      | 1           |               |                | 1           | 4                | id, email_template_field_id, element_id, element_type, value, tenant_id                                                                 
email                | emails                | emails                | entity | id | bigint  | true     | 30           | 22       | 1           | 4      | 1           | 2             |                | 3           | 26               | id, to, from, read, user_id, tenant_id, from_user_id, to_user_id, direction, context_id, context_type, subject                          
estimate_element     | estimate_elements     | estimate_elements     | entity | id | bigint  | true     | 7            |          | 1           | 3      | 1           | 2             |                | 3           | 3                | id, estimate_id, element_id, element_type, created_at, updated_at, tenant_id                                                            
exclusion            | exclusions            | exclusions            | entity | id | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                           
filter_default       | filter_defaults       | filter_defaults       | entity | id | bigint  | true     | 6            | 2        | 1           | 2      | 1           |               |                | 1           | 4                | id, user_id, context_id, context_type, section, tenant_id                                                                               
interest_context     | interest_contexts     | interest_contexts     | entity | id | bigint  | true     | 9            | 1        | 1           | 4      | 1           | 2             |                | 3           | 5                | id, interest_id, context_id, context_type, user_id, tenant_id, created_at, updated_at, interest_type                                    
invoice_element      | invoice_elements      | invoice_elements      | entity | id | bigint  | true     | 7            |          | 1           | 3      | 1           | 2             |                | 3           | 3                | id, invoice_id, element_id, tenant_id, element_type, created_at, updated_at                                                             
meeting              | meetings              | meetings              | entity | id | bigint  | true     | 19           | 12       | 1           | 3      | 1           | 2             |                | 3           | 15               | id, user_id, tenant_id, context_id, context_type, message, location, title, summary, start_date, end_date, status                       
next_activity        | next_activities       | next_activities       | entity | id | bigint  | true     | 9            | 2        | 1           | 3      | 1           | 2             |                | 3           | 5                | id, scheduled, contact_id, context_id, context_type, status, tenant_id, created_at, updated_at                                          
note                 | notes                 | notes                 | entity | id | bigint  | true     | 11           | 4        | 1           | 3      | 1           | 2             |                | 3           | 7                | id, user_id, tenant_id, context_id, context_type, message, created_at, updated_at, title, deleted, prospect_status_item_id              
portal_comment       | portal_comments       | portal_comments       | entity | id | bigint  | true     | 11           | 4        | 1           | 3      | 1           | 2             |                | 3           | 7                | id, tenant_id, user_id, context_type, context_id, body, created_at, updated_at, name, status, proof_id                                  
[32mmodels                        [0m: 16
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when has standard timestamp columns
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                           | NAME_PLURAL                    | TABLE_NAME                     | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-------------------------------|--------------------------------|--------------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum          | account_history_data           | account_history_data           | entity | id  | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log                     | action_logs                    | action_logs                    | entity | id  | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                       | activities                     | activities                     | entity | id  | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                        | addresses                      | addresses                      | entity | id  | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment                     | adjustments                    | adjustments                    | entity | id  | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
api_log                        | api_logs                       | api_logs                       | entity | id  | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
ar_internal_metadatum          | ar_internal_metadata           | ar_internal_metadata           | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                                                                     
asset                          | assets                         | assets                         | entity | id  | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result          | background_job_results         | background_job_results         | entity | id  | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job                 | background_jobs                | background_jobs                | entity | id  | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                         | backups                        | backups                        | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
bookmark                       | bookmarks                      | bookmarks                      | entity | id  | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month                   | budget_months                  | budget_months                  | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                         | budgets                        | budgets                        | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                          | builds                         | builds                         | entity | id  | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_goal_item        | business_plan_goal_items       | business_plan_goal_items       | entity | id  | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_plan_item        | business_plan_plan_items       | business_plan_plan_items       | entity | id  | bigint  | true     | 8            | 4        | 1           | 1      |             | 2             |                | 2           | 5                | id, business_plan_id, business_plan_plan_category_id, title, comment, target_date, created_at, updated_at                                             
business_plan_sales_investment | business_plan_sales_investm... | business_plan_sales_investm... | entity | id  | bigint  | true     | 11           | 5        | 1           | 3      |             | 2             |                | 2           | 8                | id, name, user_id, tenant_id, business_plan_id, quarter_1, quarter_2, quarter_3, quarter_4, created_at, updated_at                                    
campaign_cach                  | campaign_caches                | campaign_caches                | entity | id  | bigint  | true     | 7            | 4        | 1           |        |             | 2             |                | 2           | 4                | id, tenant_id, campaign_id, cache_hash, match_count, created_at, updated_at                                                                           
campaign_message               | campaign_messages              | campaign_messages              | entity | id  | bigint  | true     | 19           | 13       | 1           | 3      |             | 2             |                | 2           | 16               | id, campaign_id, contact_id, opened, sent, created_at, updated_at, failed, note, parent_message_id, sent_date, failed_reason                          
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when has created_at
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                           | NAME_PLURAL                    | TABLE_NAME                     | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-------------------------------|--------------------------------|--------------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum          | account_history_data           | account_history_data           | entity | id  | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log                     | action_logs                    | action_logs                    | entity | id  | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                       | activities                     | activities                     | entity | id  | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                        | addresses                      | addresses                      | entity | id  | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment                     | adjustments                    | adjustments                    | entity | id  | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
api_log                        | api_logs                       | api_logs                       | entity | id  | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
ar_internal_metadatum          | ar_internal_metadata           | ar_internal_metadata           | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                                                                     
asset                          | assets                         | assets                         | entity | id  | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result          | background_job_results         | background_job_results         | entity | id  | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job                 | background_jobs                | background_jobs                | entity | id  | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                         | backups                        | backups                        | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
badges_sash                    | badges_sashes                  | badges_sashes                  | entity | id  | bigint  | true     | 5            | 3        | 1           |        |             | 1             |                | 1           | 3                | id, badge_id, sash_id, notified_user, created_at                                                                                                      
bookmark                       | bookmarks                      | bookmarks                      | entity | id  | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month                   | budget_months                  | budget_months                  | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                         | budgets                        | budgets                        | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                          | builds                         | builds                         | entity | id  | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_goal_item        | business_plan_goal_items       | business_plan_goal_items       | entity | id  | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_plan_item        | business_plan_plan_items       | business_plan_plan_items       | entity | id  | bigint  | true     | 8            | 4        | 1           | 1      |             | 2             |                | 2           | 5                | id, business_plan_id, business_plan_plan_category_id, title, comment, target_date, created_at, updated_at                                             
business_plan_sales_investment | business_plan_sales_investm... | business_plan_sales_investm... | entity | id  | bigint  | true     | 11           | 5        | 1           | 3      |             | 2             |                | 2           | 8                | id, name, user_id, tenant_id, business_plan_id, quarter_1, quarter_2, quarter_3, quarter_4, created_at, updated_at                                    
campaign_cach                  | campaign_caches                | campaign_caches                | entity | id  | bigint  | true     | 7            | 4        | 1           |        |             | 2             |                | 2           | 4                | id, tenant_id, campaign_id, cache_hash, match_count, created_at, updated_at                                                                           
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                           | NAME_PLURAL                    | TABLE_NAME                     | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-------------------------------|--------------------------------|--------------------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
affiliation                    | affiliations                   | affiliations                   | entity | id | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, user_id, tenant_id, primary                                                                                                                       
business_plan_equipment        | business_plan_equipments       | business_plan_equipments       | entity | id | bigint  | true     | 18           | 15       | 1           | 2      |             |               |                |             | 17               | id, title, device, make, model, equip_type, cost, purchase_date, purchase_reason, sales_plan, installation_plan, additional_details                   
business_plan_goal             | business_plan_goals            | business_plan_goals            | entity | id | bigint  | true     | 9            | 5        | 1           | 3      |             |               |                |             | 8                | id, business_plan_kpi_id, global, financial_year, average, industry_average, business_plan_id, tenant_id, enterprise_id                               
business_plan_kpi              | business_plan_kpis             | business_plan_kpis             | entity | id | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, is_cost                                                                                                                     
business_plan_marketing_act... | business_plan_marketing_act... | business_plan_marketing_act... | entity | id | bigint  | true     | 12           | 9        | 1           | 2      |             |               |                |             | 11               | id, title, quarter_1, quarter_2, quarter_3, quarter_4, percentage, max_cap, global, business_plan_id, tenant_id, enterprise_id                        
business_plan_plan_category    | business_plan_plan_categories  | business_plan_plan_categories  | entity | id | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, actions                                                                                                                     
business_plan                  | business_plans                 | business_plans                 | entity | id | bigint  | true     | 14           | 12       | 1           | 1      |             |               |                |             | 13               | id, name, financial_year, tenant_id, growth_target, win_back_target, ten_companies, goal_forecast_gross, goal_forecast_labor, goal_forecast_comp, c...
calendar_entry                 | calendar_entries               | calendar_entries               | entity | id | bigint  | true     | 8            | 6        | 1           | 1      |             |               |                |             | 7                | id, calendar_id, entry_ident, start_time, end_time, summary, description, updated                                                                     
calendar_entry_deletion        | calendar_entry_deletions       | calendar_entry_deletions       | entity | id | bigint  | true     | 5            | 3        | 1           | 1      |             |               |                |             | 4                | id, user_id, calendar_ident, entry_ident, send_updates                                                                                                
calendar                       | calendars                      | calendars                      | entity | id | bigint  | true     | 7            | 4        | 1           | 1      |             |               |                |             | 5                | id, calendar_ident, last_sync, user_id, next_sync_token, timezone, user_ids                                                                           
campaign_calendar_entry        | campaign_calendar_entries      | campaign_calendar_entries      | entity | id | bigint  | true     | 6            | 1        | 1           | 4      |             |               |                |             | 5                | id, campaign_id, tenant_id, user_id, calendar_entry_id, date                                                                                          
campaign_count                 | campaign_counts                | campaign_counts                | entity | id | bigint  | true     | 4            | 1        | 1           | 2      |             |               |                |             | 3                | id, tenant_id, campaign_id, total_count                                                                                                               
campaign_exclusion             | campaign_exclusions            | campaign_exclusions            | entity | id | bigint  | true     | 3            |          | 1           | 2      |             |               |                |             | 2                | id, campaign_id, contact_id                                                                                                                           
campaign_group                 | campaign_groups                | campaign_groups                | entity | id | bigint  | true     | 5            | 4        | 1           |        |             |               |                |             | 4                | id, name, primary_id, campaign_ids, enterprise_id                                                                                                     
campaign_messages_tracker      | campaign_messages_trackers     | campaign_messages_trackers     | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_message_id, tracker_id                                                                                                                       
campaigns_contact_list         | campaigns_contact_lists        | campaigns_contact_lists        | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_id, contact_list_id                                                                                                                          
clearbit_quotum                | clearbit_quota                 | clearbit_quota                 | entity | id | bigint  | true     | 6            | 5        | 1           |        |             |               |                |             | 5                | id, klass, used, max, start_date, end_date                                                                                                            
company_metric                 | company_metrics                | company_metrics                | entity | id | bigint  | true     | 5            | 2        | 1           | 2      |             |               |                |             | 4                | id, tenant_id, company_id, report_month, report_series                                                                                                
contact_groups_contact         | contact_groups_contacts        | contact_groups_contacts        | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_group_id                                                                                                                          
contact_list_count             | contact_list_counts            | contact_list_counts            | entity | id | bigint  | true     | 5            | 2        | 1           | 2      |             |               |                |             | 4                | id, tenant_id, contact_list_id, total_count, generate_duration                                                                                        
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when has updated_at
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                           | NAME_PLURAL                    | TABLE_NAME                     | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-------------------------------|--------------------------------|--------------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum          | account_history_data           | account_history_data           | entity | id  | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log                     | action_logs                    | action_logs                    | entity | id  | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                       | activities                     | activities                     | entity | id  | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                        | addresses                      | addresses                      | entity | id  | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment                     | adjustments                    | adjustments                    | entity | id  | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
api_log                        | api_logs                       | api_logs                       | entity | id  | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
ar_internal_metadatum          | ar_internal_metadata           | ar_internal_metadata           | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                                                                     
asset                          | assets                         | assets                         | entity | id  | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result          | background_job_results         | background_job_results         | entity | id  | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job                 | background_jobs                | background_jobs                | entity | id  | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                         | backups                        | backups                        | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
bookmark                       | bookmarks                      | bookmarks                      | entity | id  | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month                   | budget_months                  | budget_months                  | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                         | budgets                        | budgets                        | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                          | builds                         | builds                         | entity | id  | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_goal_item        | business_plan_goal_items       | business_plan_goal_items       | entity | id  | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_plan_item        | business_plan_plan_items       | business_plan_plan_items       | entity | id  | bigint  | true     | 8            | 4        | 1           | 1      |             | 2             |                | 2           | 5                | id, business_plan_id, business_plan_plan_category_id, title, comment, target_date, created_at, updated_at                                             
business_plan_sales_investment | business_plan_sales_investm... | business_plan_sales_investm... | entity | id  | bigint  | true     | 11           | 5        | 1           | 3      |             | 2             |                | 2           | 8                | id, name, user_id, tenant_id, business_plan_id, quarter_1, quarter_2, quarter_3, quarter_4, created_at, updated_at                                    
campaign_cach                  | campaign_caches                | campaign_caches                | entity | id  | bigint  | true     | 7            | 4        | 1           |        |             | 2             |                | 2           | 4                | id, tenant_id, campaign_id, cache_hash, match_count, created_at, updated_at                                                                           
campaign_message               | campaign_messages              | campaign_messages              | entity | id  | bigint  | true     | 19           | 13       | 1           | 3      |             | 2             |                | 2           | 16               | id, campaign_id, contact_id, opened, sent, created_at, updated_at, failed, note, parent_message_id, sent_date, failed_reason                          
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                           | NAME_PLURAL                    | TABLE_NAME                     | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-------------------------------|--------------------------------|--------------------------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
affiliation                    | affiliations                   | affiliations                   | entity | id | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, user_id, tenant_id, primary                                                                                                                       
badges_sash                    | badges_sashes                  | badges_sashes                  | entity | id | bigint  | true     | 5            | 3        | 1           |        |             | 1             |                | 1           | 3                | id, badge_id, sash_id, notified_user, created_at                                                                                                      
business_plan_equipment        | business_plan_equipments       | business_plan_equipments       | entity | id | bigint  | true     | 18           | 15       | 1           | 2      |             |               |                |             | 17               | id, title, device, make, model, equip_type, cost, purchase_date, purchase_reason, sales_plan, installation_plan, additional_details                   
business_plan_goal             | business_plan_goals            | business_plan_goals            | entity | id | bigint  | true     | 9            | 5        | 1           | 3      |             |               |                |             | 8                | id, business_plan_kpi_id, global, financial_year, average, industry_average, business_plan_id, tenant_id, enterprise_id                               
business_plan_kpi              | business_plan_kpis             | business_plan_kpis             | entity | id | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, is_cost                                                                                                                     
business_plan_marketing_act... | business_plan_marketing_act... | business_plan_marketing_act... | entity | id | bigint  | true     | 12           | 9        | 1           | 2      |             |               |                |             | 11               | id, title, quarter_1, quarter_2, quarter_3, quarter_4, percentage, max_cap, global, business_plan_id, tenant_id, enterprise_id                        
business_plan_plan_category    | business_plan_plan_categories  | business_plan_plan_categories  | entity | id | bigint  | true     | 4            | 2        | 1           | 1      |             |               |                |             | 3                | id, title, enterprise_id, actions                                                                                                                     
business_plan                  | business_plans                 | business_plans                 | entity | id | bigint  | true     | 14           | 12       | 1           | 1      |             |               |                |             | 13               | id, name, financial_year, tenant_id, growth_target, win_back_target, ten_companies, goal_forecast_gross, goal_forecast_labor, goal_forecast_comp, c...
calendar_entry                 | calendar_entries               | calendar_entries               | entity | id | bigint  | true     | 8            | 6        | 1           | 1      |             |               |                |             | 7                | id, calendar_id, entry_ident, start_time, end_time, summary, description, updated                                                                     
calendar_entry_deletion        | calendar_entry_deletions       | calendar_entry_deletions       | entity | id | bigint  | true     | 5            | 3        | 1           | 1      |             |               |                |             | 4                | id, user_id, calendar_ident, entry_ident, send_updates                                                                                                
calendar                       | calendars                      | calendars                      | entity | id | bigint  | true     | 7            | 4        | 1           | 1      |             |               |                |             | 5                | id, calendar_ident, last_sync, user_id, next_sync_token, timezone, user_ids                                                                           
campaign_calendar_entry        | campaign_calendar_entries      | campaign_calendar_entries      | entity | id | bigint  | true     | 6            | 1        | 1           | 4      |             |               |                |             | 5                | id, campaign_id, tenant_id, user_id, calendar_entry_id, date                                                                                          
campaign_count                 | campaign_counts                | campaign_counts                | entity | id | bigint  | true     | 4            | 1        | 1           | 2      |             |               |                |             | 3                | id, tenant_id, campaign_id, total_count                                                                                                               
campaign_exclusion             | campaign_exclusions            | campaign_exclusions            | entity | id | bigint  | true     | 3            |          | 1           | 2      |             |               |                |             | 2                | id, campaign_id, contact_id                                                                                                                           
campaign_group                 | campaign_groups                | campaign_groups                | entity | id | bigint  | true     | 5            | 4        | 1           |        |             |               |                |             | 4                | id, name, primary_id, campaign_ids, enterprise_id                                                                                                     
campaign_messages_tracker      | campaign_messages_trackers     | campaign_messages_trackers     | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_message_id, tracker_id                                                                                                                       
campaigns_contact_list         | campaigns_contact_lists        | campaigns_contact_lists        | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | campaign_id, contact_list_id                                                                                                                          
clearbit_quotum                | clearbit_quota                 | clearbit_quota                 | entity | id | bigint  | true     | 6            | 5        | 1           |        |             |               |                |             | 5                | id, klass, used, max, start_date, end_date                                                                                                            
company_metric                 | company_metrics                | company_metrics                | entity | id | bigint  | true     | 5            | 2        | 1           | 2      |             |               |                |             | 4                | id, tenant_id, company_id, report_month, report_series                                                                                                
contact_groups_contact         | contact_groups_contacts        | contact_groups_contacts        | entity |    |         | false    | 2            | 2        |             |        |             |               |                |             | 2                | contact_id, contact_group_id                                                                                                                          
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
      when has deleted_at
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME       | NAME_PLURAL | TABLE_NAME  | TYPE   | PK | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
-----------|-------------|-------------|--------|----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
enterprise | enterprises | enterprises | entity | id | bigint  | true     | 105          | 98       | 1           |        |             | 2             | 1              | 3           | 98               | id, name, created_at, updated_at, show_eula, eula_body, setup_user, setup_password, campaign_test_address, unsubscribe_template, banner_id, default...
estimate   | estimates   | estimates   | entity | id | bigint  | true     | 93           | 81       | 1           | 7      |             | 2             | 1              | 3           | 88               | id, name, tenant_id, created_at, updated_at, grand_total, printsmith_id, company_id, status, deleted_at, on_pending_list, wanted_by                   
inquiry    | inquiries   | inquiries   | entity | id | bigint  | true     | 35           | 27       | 1           | 4      |             | 2             | 1              | 3           | 31               | id, from_name, from_email, description, user_id, pinned, priority, inquiry_type, tenant_id, created_at, updated_at, first_name                        
invoice    | invoices    | invoices    | entity | id | bigint  | true     | 101          | 92       | 1           | 4      |             | 2             | 1              | 3           | 96               | id, name, grand_total, printsmith_id, tenant_id, company_id, created_at, updated_at, deleted_at, completed, pickup_date, wanted_by                    
user       | users       | users       | entity | id | bigint  | true     | 74           | 62       | 1           | 2      |             | 2             | 1              | 3           | 64               | id, manual_email, encrypted_password, reset_password_token, reset_password_sent_at, remember_created_at, sign_in_count, current_sign_in_at, last_si...
[32mmodels                        [0m: 5
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37
        behaves like log_structure
[32m========================================================================================================================================================================================================[0m
Models
[32m========================================================================================================================================================================================================[0m
NAME                    | NAME_PLURAL              | TABLE_NAME               | TYPE   | PK  | PK_TYPE | PK_EXIST | COLUMN_COUNT | FOR_DATA | FOR_PRIMARY | FOR_FK | FOR_POLY_FY | FOR_TIMESTAMP | FOR_DELETED_AT | FOR_VIRTUAL | FOR_DATA_FOREIGN | COLUMN_NAMES                                                                                                                                          
------------------------|--------------------------|--------------------------|--------|-----|---------|----------|--------------|----------|-------------|--------|-------------|---------------|----------------|-------------|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------
account_history_datum   | account_history_data     | account_history_data     | entity | id  | bigint  | true     | 56           | 51       | 1           | 2      |             | 2             |                | 2           | 53               | id, source_account_id, company_id, balance, currentagingbucket, custpo, finalpaychecknumber, finalpaypaymethod, finalpayrefnumber, finalpaytotal, f...
action_log              | action_logs              | action_logs              | entity | id  | bigint  | true     | 10           | 3        | 1           | 3      | 1           | 2             |                | 3           | 6                | id, tenant_id, user_id, sales_rep_user_id, location_id, action, created_at, updated_at, context_id, context_type                                      
activity                | activities               | activities               | entity | id  | bigint  | true     | 31           | 8        | 1           | 19     | 1           | 2             |                | 3           | 27               | id, user_id, tenant_id, element_id, element_type, created_at, updated_at, contact_id, company_id, estimate_id, invoice_id, phone_call_id              
address                 | addresses                | addresses                | entity | id  | bigint  | true     | 27           | 22       | 1           | 2      |             | 2             |                | 2           | 24               | id, city, country, deleted, manualchange, name, state, street1, street2, street3, webid, zip                                                          
adjustment              | adjustments              | adjustments              | entity | id  | bigint  | true     | 42           | 36       | 1           | 3      |             | 2             |                | 2           | 39               | id, total, invoice_id, company_id, tenant_id, created_at, updated_at, printsmith_id, dirty, deleted, ready, associations_complete                     
affiliation             | affiliations             | affiliations             | entity | id  | bigint  | true     | 4            | 3        | 1           |        |             |               |                |             | 3                | id, user_id, tenant_id, primary                                                                                                                       
api_log                 | api_logs                 | api_logs                 | entity | id  | bigint  | true     | 13           | 6        | 1           | 3      | 1           | 2             |                | 3           | 9                | id, url, body, response_message, context_id, context_type, user_id, created_at, updated_at, tenant_id, retry_count, status                            
ar_internal_metadatum   | ar_internal_metadata     | ar_internal_metadata     | entity | key | bigint  | true     | 4            | 2        |             |        |             | 2             |                | 2           | 2                | id, value, created_at, updated_at                                                                                                                     
asset                   | assets                   | assets                   | entity | id  | bigint  | true     | 15           | 9        | 1           | 2      | 1           | 2             |                | 3           | 11               | id, category, file_name, file_hash, content_type, created_at, updated_at, enterprise_id, tenant_id, context_id, context_type, tracker_id              
background_job_result   | background_job_results   | background_job_results   | entity | id  | bigint  | true     | 14           | 9        | 1           | 2      |             | 2             |                | 2           | 11               | id, tenant_id, user_id, job_hash, job_type, name, description, status_view, completed_view, data, result, expires_at                                  
background_job          | background_jobs          | background_jobs          | entity | id  | bigint  | true     | 16           | 11       | 1           | 2      |             | 2             |                | 2           | 13               | id, tenant_id, user_id, job_type, name, description, status_view, completed_view, data, result, complete, created_at                                  
backup                  | backups                  | backups                  | entity | id  | bigint  | true     | 6            | 2        | 1           | 1      |             | 2             |                | 2           | 3                | id, tenant_id, filename, created_at, updated_at, success                                                                                              
badges_sash             | badges_sashes            | badges_sashes            | entity | id  | bigint  | true     | 5            | 3        | 1           |        |             | 1             |                | 1           | 3                | id, badge_id, sash_id, notified_user, created_at                                                                                                      
bookmark                | bookmarks                | bookmarks                | entity | id  | bigint  | true     | 6            |          | 1           | 2      | 1           | 2             |                | 3           | 2                | id, user_id, context_id, context_type, created_at, updated_at                                                                                         
budget_month            | budget_months            | budget_months            | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, budget_id, total, created_at, updated_at, month_date, enterprise_total                                                                            
budget                  | budgets                  | budgets                  | entity | id  | bigint  | true     | 7            | 3        | 1           | 1      |             | 2             |                | 2           | 4                | id, tenant_id, financial_year, created_at, updated_at, comp_perc, enterprise_comp_perc                                                                
build                   | builds                   | builds                   | entity | id  | bigint  | true     | 6            | 3        | 1           |        |             | 2             |                | 2           | 3                | id, name, os, checksum, created_at, updated_at                                                                                                        
business_plan_equipment | business_plan_equipments | business_plan_equipments | entity | id  | bigint  | true     | 18           | 15       | 1           | 2      |             |               |                |             | 17               | id, title, device, make, model, equip_type, cost, purchase_date, purchase_reason, sales_plan, installation_plan, additional_details                   
business_plan_goal_item | business_plan_goal_items | business_plan_goal_items | entity | id  | bigint  | true     | 12           | 6        | 1           | 3      |             | 2             |                | 2           | 9                | id, business_plan_id, description, categories, cost, start_date, complete_date, review_date, user_id, tenant_id, created_at, updated_at               
business_plan_goal      | business_plan_goals      | business_plan_goals      | entity | id  | bigint  | true     | 9            | 5        | 1           | 3      |             |               |                |             | 8                | id, business_plan_kpi_id, global, financial_year, average, industry_average, business_plan_id, tenant_id, enterprise_id                               
[32mmodels                        [0m: 20
[32m========================================================================================================================================================================================================[0m
          example at ./spec/k_domain/queries/domain_model_query_spec.rb:37

Finished in 0.48709 seconds (files took 0.47932 seconds to load)
26 examples, 0 failures

